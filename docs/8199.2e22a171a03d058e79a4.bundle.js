"use strict";(self.webpackChunkKuiClientTemplate=self.webpackChunkKuiClientTemplate||[]).push([[8199],{48199:(e,n,o)=>{o.r(n),o.d(n,{default:()=>r});var t=o(18495),i=function(e,n,o,t){return new(o||(o=Promise))((function(i,a){function c(e){try{s(t.next(e))}catch(e){a(e)}}function r(e){try{s(t.throw(e))}catch(e){a(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(c,r)}s((t=t.apply(e,n||[])).next())}))};const a=(0,t.i18n)("plugin-core-support"),c={command:"confirm",strict:"confirm",example:"confirm [--asking <confirmation message>] <your-command-to-execute>",docs:"Confirmation Modal",optional:[{name:"--asking",docs:a("confirmationMessage")}],required:[{name:"command",docs:a("commandToBeExecuted")}]},r=e=>i(void 0,void 0,void 0,(function*(){e.listen("/confirm",(({tab:e,argvNoOptions:n,parsedOptions:o,execOptions:i,REPL:c})=>new Promise(((r,s)=>{const m=o.asking||a("areYouSure"),u=n[n.indexOf("confirm")+1],{execUUID:d}=i,f=`/kui-shell/Confirm/v1/tab/${(0,t.getPrimaryTabId)(e)}`,p=`${f}/execUUID/${d}/confirmed`;t.Events.eventChannelUnsafe.once(p,(({confirmed:n})=>{n?i.type===t.ExecType.Nested?(0,t.pexecInCurrentTab)(u).then(r,s):c.qexec(u,void 0,void 0,{tab:e}).then(r,s):s(a("operationCancelled"))})),t.Events.eventChannelUnsafe.emit(f,{command:u,asking:m,execUUID:d})}))),{usage:c,incognito:["popup"]})}))}}]);