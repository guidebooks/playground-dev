/*! For license information please see 8853.4683139aab4184304b38.bundle.js.LICENSE.txt */
(self.webpackChunkKuiClientTemplate=self.webpackChunkKuiClientTemplate||[]).push([[8853],{51437:(e,t,n)=>{var r;e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){var n=t[s][1][e];return i(n||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({"./aesprim":[function(e,t,n){!function(e,t){"use strict";"function"==typeof r&&r.amd?r(["exports"],t):t(void 0!==n?n:e.esprima={})}(this,(function(e){"use strict";var t,n,r,i,o,s,a,c,u,l,d,p,f,h,m,y,v,g;function b(e,t){if(!e)throw new Error("ASSERT: "+t)}function x(e){return e>=48&&e<=57}function k(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function S(e){return"01234567".indexOf(e)>=0}function w(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function E(e){return 10===e||13===e||8232===e||8233===e}function O(e){return 64==e||36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&a.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function C(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&a.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function $(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function N(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function I(e){return"eval"===e||"arguments"===e}function R(e){if(l&&N(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function P(e,t,n,r,i){var o;b("number"==typeof n,"Comment must have valid position"),v.lastCommentStart>=n||(v.lastCommentStart=n,o={type:e,value:t},g.range&&(o.range=[n,r]),g.loc&&(o.loc=i),g.comments.push(o),g.attachComment&&(g.leadingComments.push(o),g.trailingComments.push(o)))}function T(e){var t,n,r,i;for(t=d-e,n={start:{line:p,column:d-f-e}};d<h;)if(r=u.charCodeAt(d),++d,E(r))return g.comments&&(i=u.slice(t+e,d-1),n.end={line:p,column:d-f-1},P("Line",i,t,d-1,n)),13===r&&10===u.charCodeAt(d)&&++d,++p,void(f=d);g.comments&&(i=u.slice(t+e,d),n.end={line:p,column:d-f},P("Line",i,t,d,n))}function A(){var e,t,n,r;for(g.comments&&(e=d-2,t={start:{line:p,column:d-f-2}});d<h;)if(E(n=u.charCodeAt(d)))13===n&&10===u.charCodeAt(d+1)&&++d,++p,++d,f=d,d>=h&&ie({},s.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===u.charCodeAt(d+1))return++d,++d,void(g.comments&&(r=u.slice(e+2,d-2),t.end={line:p,column:d-f},P("Block",r,e,d,t)));++d}else++d;ie({},s.UnexpectedToken,"ILLEGAL")}function L(){var e,t;for(t=0===d;d<h;)if(w(e=u.charCodeAt(d)))++d;else if(E(e))++d,13===e&&10===u.charCodeAt(d)&&++d,++p,f=d,t=!0;else if(47===e)if(47===(e=u.charCodeAt(d+1)))++d,++d,T(2),t=!0;else{if(42!==e)break;++d,++d,A()}else if(t&&45===e){if(45!==u.charCodeAt(d+1)||62!==u.charCodeAt(d+2))break;d+=3,T(3)}else{if(60!==e)break;if("!--"!==u.slice(d+1,d+4))break;++d,++d,++d,++d,T(4)}}function D(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t){if(!(d<h&&k(u[d])))return"";r=u[d++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function _(){var e,t;for(e=u.charCodeAt(d++),t=String.fromCharCode(e),92===e&&(117!==u.charCodeAt(d)&&ie({},s.UnexpectedToken,"ILLEGAL"),++d,(e=D("u"))&&"\\"!==e&&O(e.charCodeAt(0))||ie({},s.UnexpectedToken,"ILLEGAL"),t=e);d<h&&C(e=u.charCodeAt(d));)++d,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==u.charCodeAt(d)&&ie({},s.UnexpectedToken,"ILLEGAL"),++d,(e=D("u"))&&"\\"!==e&&C(e.charCodeAt(0))||ie({},s.UnexpectedToken,"ILLEGAL"),t+=e);return t}function j(){var e,t;for(e=d++;d<h;){if(92===(t=u.charCodeAt(d)))return d=e,_();if(!C(t))break;++d}return u.slice(e,d)}function U(){var e,n;return e=d,{type:1===(n=92===u.charCodeAt(d)?_():j()).length?t.Identifier:R(n)?t.Keyword:"null"===n?t.NullLiteral:"true"===n||"false"===n?t.BooleanLiteral:t.Identifier,value:n,lineNumber:p,lineStart:f,start:e,end:d}}function M(){var e,n,r,i,o=d,a=u.charCodeAt(d),c=u[d];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++d,g.tokenize&&(40===a?g.openParenToken=g.tokens.length:123===a&&(g.openCurlyToken=g.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(a),lineNumber:p,lineStart:f,start:o,end:d};default:if(61===(e=u.charCodeAt(d+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return d+=2,{type:t.Punctuator,value:String.fromCharCode(a)+String.fromCharCode(e),lineNumber:p,lineStart:f,start:o,end:d};case 33:case 61:return d+=2,61===u.charCodeAt(d)&&++d,{type:t.Punctuator,value:u.slice(o,d),lineNumber:p,lineStart:f,start:o,end:d}}}return">>>="===(i=u.substr(d,4))?(d+=4,{type:t.Punctuator,value:i,lineNumber:p,lineStart:f,start:o,end:d}):">>>"===(r=i.substr(0,3))||"<<="===r||">>="===r?(d+=3,{type:t.Punctuator,value:r,lineNumber:p,lineStart:f,start:o,end:d}):c===(n=r.substr(0,2))[1]&&"+-<>&|".indexOf(c)>=0||"=>"===n?(d+=2,{type:t.Punctuator,value:n,lineNumber:p,lineStart:f,start:o,end:d}):"<>=!+-*%&|^/".indexOf(c)>=0?(++d,{type:t.Punctuator,value:c,lineNumber:p,lineStart:f,start:o,end:d}):void ie({},s.UnexpectedToken,"ILLEGAL")}function B(e){for(var n="";d<h&&k(u[d]);)n+=u[d++];return 0===n.length&&ie({},s.UnexpectedToken,"ILLEGAL"),O(u.charCodeAt(d))&&ie({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:p,lineStart:f,start:e,end:d}}function F(e){for(var n="0"+u[d++];d<h&&S(u[d]);)n+=u[d++];return(O(u.charCodeAt(d))||x(u.charCodeAt(d)))&&ie({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:p,lineStart:f,start:e,end:d}}function Z(){var e,n,r;if(b(x((r=u[d]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=d,e="","."!==r){if(e=u[d++],r=u[d],"0"===e){if("x"===r||"X"===r)return++d,B(n);if(S(r))return F(n);r&&x(r.charCodeAt(0))&&ie({},s.UnexpectedToken,"ILLEGAL")}for(;x(u.charCodeAt(d));)e+=u[d++];r=u[d]}if("."===r){for(e+=u[d++];x(u.charCodeAt(d));)e+=u[d++];r=u[d]}if("e"===r||"E"===r)if(e+=u[d++],"+"!==(r=u[d])&&"-"!==r||(e+=u[d++]),x(u.charCodeAt(d)))for(;x(u.charCodeAt(d));)e+=u[d++];else ie({},s.UnexpectedToken,"ILLEGAL");return O(u.charCodeAt(d))&&ie({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:p,lineStart:f,start:n,end:d}}function G(){var e,n,r,i,o,a,c,l,m="",y=!1;for(c=p,l=f,b("'"===(e=u[d])||'"'===e,"String literal must starts with a quote"),n=d,++d;d<h;){if((r=u[d++])===e){e="";break}if("\\"===r)if((r=u[d++])&&E(r.charCodeAt(0)))++p,"\r"===r&&"\n"===u[d]&&++d,f=d;else switch(r){case"u":case"x":a=d,(o=D(r))?m+=o:(d=a,m+=r);break;case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:S(r)?(0!==(i="01234567".indexOf(r))&&(y=!0),d<h&&S(u[d])&&(y=!0,i=8*i+"01234567".indexOf(u[d++]),"0123".indexOf(r)>=0&&d<h&&S(u[d])&&(i=8*i+"01234567".indexOf(u[d++]))),m+=String.fromCharCode(i)):m+=r}else{if(E(r.charCodeAt(0)))break;m+=r}}return""!==e&&ie({},s.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:m,octal:y,startLineNumber:c,startLineStart:l,lineNumber:p,lineStart:f,start:n,end:d}}function z(e,t){var n;try{n=new RegExp(e,t)}catch(e){ie({},s.InvalidRegExp)}return n}function V(){var e,t,n,r;for(b("/"===(e=u[d]),"Regular expression literal must start with a slash"),t=u[d++],n=!1,r=!1;d<h;)if(t+=e=u[d++],"\\"===e)E((e=u[d++]).charCodeAt(0))&&ie({},s.UnterminatedRegExp),t+=e;else if(E(e.charCodeAt(0)))ie({},s.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||ie({},s.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}function q(){var e,t,n,r;for(t="",n="";d<h&&C((e=u[d]).charCodeAt(0));)if(++d,"\\"===e&&d<h)if("u"===(e=u[d])){if(r=++d,e=D("u"))for(n+=e,t+="\\u";r<d;++r)t+=u[r];else d=r,n+="u",t+="\\u";oe({},s.UnexpectedToken,"ILLEGAL")}else t+="\\",oe({},s.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function K(){var e,n,r,i;return y=null,L(),e=d,n=V(),r=q(),i=z(n.value,r.value),g.tokenize?{type:t.RegularExpression,value:i,lineNumber:p,lineStart:f,start:e,end:d}:{literal:n.literal+r.literal,value:i,start:e,end:d}}function Y(){var e,t,n,r;return L(),e=d,t={start:{line:p,column:d-f}},n=K(),t.end={line:p,column:d-f},g.tokenize||(g.tokens.length>0&&(r=g.tokens[g.tokens.length-1]).range[0]===e&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||g.tokens.pop()),g.tokens.push({type:"RegularExpression",value:n.literal,range:[e,d],loc:t})),n}function J(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function H(){var e,t;if(!(e=g.tokens[g.tokens.length-1]))return Y();if("Punctuator"===e.type){if("]"===e.value)return M();if(")"===e.value)return!(t=g.tokens[g.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?M():Y();if("}"===e.value){if(g.tokens[g.openCurlyToken-3]&&"Keyword"===g.tokens[g.openCurlyToken-3].type){if(!(t=g.tokens[g.openCurlyToken-4]))return M()}else{if(!g.tokens[g.openCurlyToken-4]||"Keyword"!==g.tokens[g.openCurlyToken-4].type)return M();if(!(t=g.tokens[g.openCurlyToken-5]))return Y()}return r.indexOf(t.value)>=0?M():Y()}return Y()}return"Keyword"===e.type?Y():M()}function Q(){var e;return L(),d>=h?{type:t.EOF,lineNumber:p,lineStart:f,start:d,end:d}:O(e=u.charCodeAt(d))?U():40===e||41===e||59===e?M():39===e||34===e?G():46===e?x(u.charCodeAt(d+1))?Z():M():x(e)?Z():g.tokenize&&47===e?H():M()}function W(){var e,r,i;return L(),e={start:{line:p,column:d-f}},r=Q(),e.end={line:p,column:d-f},r.type!==t.EOF&&(i=u.slice(r.start,r.end),g.tokens.push({type:n[r.type],value:i,range:[r.start,r.end],loc:e})),r}function X(){var e;return d=(e=y).end,p=e.lineNumber,f=e.lineStart,y=void 0!==g.tokens?W():Q(),d=e.end,p=e.lineNumber,f=e.lineStart,e}function ee(){var e,t,n;e=d,t=p,n=f,y=void 0!==g.tokens?W():Q(),d=e,p=t,f=n}function te(e,t){this.line=e,this.column=t}function ne(e,t,n,r){this.start=new te(e,t),this.end=new te(n,r)}function re(){var e,t,n,r;return e=d,t=p,n=f,L(),r=p!==t,d=e,p=t,f=n,r}function ie(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return b(t<r.length,"Message reference must be in range"),r[t]}));throw"number"==typeof e.lineNumber?((n=new Error("Line "+e.lineNumber+": "+i)).index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-f+1):((n=new Error("Line "+p+": "+i)).index=d,n.lineNumber=p,n.column=d-f+1),n.description=i,n}function oe(){try{ie.apply(null,arguments)}catch(e){if(!g.errors)throw e;g.errors.push(e)}}function se(e){if(e.type===t.EOF&&ie(e,s.UnexpectedEOS),e.type===t.NumericLiteral&&ie(e,s.UnexpectedNumber),e.type===t.StringLiteral&&ie(e,s.UnexpectedString),e.type===t.Identifier&&ie(e,s.UnexpectedIdentifier),e.type===t.Keyword){if($(e.value))ie(e,s.UnexpectedReserved);else if(l&&N(e.value))return void oe(e,s.StrictReservedWord);ie(e,s.UnexpectedToken,e.value)}ie(e,s.UnexpectedToken,e.value)}function ae(e){var n=X();n.type===t.Punctuator&&n.value===e||se(n)}function ce(e){var n=X();n.type===t.Keyword&&n.value===e||se(n)}function ue(e){return y.type===t.Punctuator&&y.value===e}function le(e){return y.type===t.Keyword&&y.value===e}function de(){var e;return y.type===t.Punctuator&&("="===(e=y.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function pe(){var e;59===u.charCodeAt(d)||ue(";")?X():(e=p,L(),p===e&&(y.type===t.EOF||ue("}")||se(y)))}function fe(e){return e.type===i.Identifier||e.type===i.MemberExpression}function he(){var e,t=[];for(e=y,ae("[");!ue("]");)ue(",")?(X(),t.push(null)):(t.push(Ae()),ue("]")||ae(","));return X(),m.markEnd(m.createArrayExpression(t),e)}function me(e,t){var n,r,i;return n=l,i=y,r=st(),t&&l&&I(e[0].name)&&oe(t,s.StrictParamName),l=n,m.markEnd(m.createFunctionExpression(null,e,[],r),i)}function ye(){var e,n;return n=y,(e=X()).type===t.StringLiteral||e.type===t.NumericLiteral?(l&&e.octal&&oe(e,s.StrictOctalLiteral),m.markEnd(m.createLiteral(e),n)):m.markEnd(m.createIdentifier(e.value),n)}function ve(){var e,n,r,i,o,a;return a=y,(e=y).type===t.Identifier?(r=ye(),"get"!==e.value||ue(":")?"set"!==e.value||ue(":")?(ae(":"),i=Ae(),m.markEnd(m.createProperty("init",r,i),a)):(n=ye(),ae("("),(e=y).type!==t.Identifier?(ae(")"),oe(e,s.UnexpectedToken,e.value),i=me([])):(o=[je()],ae(")"),i=me(o,e)),m.markEnd(m.createProperty("set",n,i),a)):(n=ye(),ae("("),ae(")"),i=me([]),m.markEnd(m.createProperty("get",n,i),a))):e.type!==t.EOF&&e.type!==t.Punctuator?(n=ye(),ae(":"),i=Ae(),m.markEnd(m.createProperty("init",n,i),a)):void se(e)}function ge(){var e,t,n,r,a,c=[],u={},d=String;for(a=y,ae("{");!ue("}");)t=(e=ve()).key.type===i.Identifier?e.key.name:d(e.key.value),r="init"===e.kind?o.Data:"get"===e.kind?o.Get:o.Set,n="$"+t,Object.prototype.hasOwnProperty.call(u,n)?(u[n]===o.Data?l&&r===o.Data?oe({},s.StrictDuplicateProperty):r!==o.Data&&oe({},s.AccessorDataProperty):r===o.Data?oe({},s.AccessorDataProperty):u[n]&r&&oe({},s.AccessorGetSet),u[n]|=r):u[n]=r,c.push(e),ue("}")||ae(",");return ae("}"),m.markEnd(m.createObjectExpression(c),a)}function be(){var e;return ae("("),e=Le(),ae(")"),e}function xe(){var e,n,r,i;if(ue("("))return be();if(ue("["))return he();if(ue("{"))return ge();if(e=y.type,i=y,e===t.Identifier)r=m.createIdentifier(X().value);else if(e===t.StringLiteral||e===t.NumericLiteral)l&&y.octal&&oe(y,s.StrictOctalLiteral),r=m.createLiteral(X());else if(e===t.Keyword){if(le("function"))return ut();le("this")?(X(),r=m.createThisExpression()):se(X())}else e===t.BooleanLiteral?((n=X()).value="true"===n.value,r=m.createLiteral(n)):e===t.NullLiteral?((n=X()).value=null,r=m.createLiteral(n)):ue("/")||ue("/=")?(r=void 0!==g.tokens?m.createLiteral(Y()):m.createLiteral(K()),ee()):se(X());return m.markEnd(r,i)}function ke(){var e=[];if(ae("("),!ue(")"))for(;d<h&&(e.push(Ae()),!ue(")"));)ae(",");return ae(")"),e}function Se(){var e,t;return t=y,J(e=X())||se(e),m.markEnd(m.createIdentifier(e.value),t)}function we(){return ae("."),Se()}function Ee(){var e;return ae("["),e=Le(),ae("]"),e}function Oe(){var e,t,n;return n=y,ce("new"),e=$e(),t=ue("(")?ke():[],m.markEnd(m.createNewExpression(e,t),n)}function Ce(){var e,t,n,r,i;for(i=y,e=v.allowIn,v.allowIn=!0,t=le("new")?Oe():xe(),v.allowIn=e;;){if(ue("."))r=we(),t=m.createMemberExpression(".",t,r);else if(ue("("))n=ke(),t=m.createCallExpression(t,n);else{if(!ue("["))break;r=Ee(),t=m.createMemberExpression("[",t,r)}m.markEnd(t,i)}return t}function $e(){var e,t,n,r;for(r=y,e=v.allowIn,t=le("new")?Oe():xe(),v.allowIn=e;ue(".")||ue("[");)ue("[")?(n=Ee(),t=m.createMemberExpression("[",t,n)):(n=we(),t=m.createMemberExpression(".",t,n)),m.markEnd(t,r);return t}function Ne(){var e,n,r=y;return e=Ce(),y.type===t.Punctuator&&(!ue("++")&&!ue("--")||re()||(l&&e.type===i.Identifier&&I(e.name)&&oe({},s.StrictLHSPostfix),fe(e)||oe({},s.InvalidLHSInAssignment),n=X(),e=m.markEnd(m.createPostfixExpression(n.value,e),r))),e}function Ie(){var e,n,r;return y.type!==t.Punctuator&&y.type!==t.Keyword?n=Ne():ue("++")||ue("--")?(r=y,e=X(),n=Ie(),l&&n.type===i.Identifier&&I(n.name)&&oe({},s.StrictLHSPrefix),fe(n)||oe({},s.InvalidLHSInAssignment),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):ue("+")||ue("-")||ue("~")||ue("!")?(r=y,e=X(),n=Ie(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):le("delete")||le("void")||le("typeof")?(r=y,e=X(),n=Ie(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r),l&&"delete"===n.operator&&n.argument.type===i.Identifier&&oe({},s.StrictDelete)):n=Ne(),n}function Re(e,n){var r=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function Pe(){var e,t,n,r,i,o,s,a,c,u;if(e=y,c=Ie(),0===(i=Re(r=y,v.allowIn)))return c;for(r.prec=i,X(),t=[e,y],o=[c,r,s=Ie()];(i=Re(y,v.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,c=o.pop(),n=m.createBinaryExpression(a,c,s),t.pop(),e=t[t.length-1],m.markEnd(n,e),o.push(n);(r=X()).prec=i,o.push(r),t.push(y),n=Ie(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)n=m.createBinaryExpression(o[u-1].value,o[u-2],n),u-=2,e=t.pop(),m.markEnd(n,e);return n}function Te(){var e,t,n,r,i;return i=y,e=Pe(),ue("?")&&(X(),t=v.allowIn,v.allowIn=!0,n=Ae(),v.allowIn=t,ae(":"),r=Ae(),e=m.createConditionalExpression(e,n,r),m.markEnd(e,i)),e}function Ae(){var e,t,n,r,o;return e=y,o=y,r=t=Te(),de()&&(fe(t)||oe({},s.InvalidLHSInAssignment),l&&t.type===i.Identifier&&I(t.name)&&oe(e,s.StrictLHSAssignment),e=X(),n=Ae(),r=m.markEnd(m.createAssignmentExpression(e.value,t,n),o)),r}function Le(){var e,t=y;if(e=Ae(),ue(",")){for(e=m.createSequenceExpression([e]);d<h&&ue(",");)X(),e.expressions.push(Ae());m.markEnd(e,t)}return e}function De(){for(var e,t=[];d<h&&!ue("}")&&void 0!==(e=lt());)t.push(e);return t}function _e(){var e,t;return t=y,ae("{"),e=De(),ae("}"),m.markEnd(m.createBlockStatement(e),t)}function je(){var e,n;return n=y,(e=X()).type!==t.Identifier&&se(e),m.markEnd(m.createIdentifier(e.value),n)}function Ue(e){var t,n,r=null;return n=y,t=je(),l&&I(t.name)&&oe({},s.StrictVarName),"const"===e?(ae("="),r=Ae()):ue("=")&&(X(),r=Ae()),m.markEnd(m.createVariableDeclarator(t,r),n)}function Me(e){var t=[];do{if(t.push(Ue(e)),!ue(","))break;X()}while(d<h);return t}function Be(){var e;return ce("var"),e=Me(),pe(),m.createVariableDeclaration(e,"var")}function Fe(e){var t,n;return n=y,ce(e),t=Me(e),pe(),m.markEnd(m.createVariableDeclaration(t,e),n)}function Ze(){return ae(";"),m.createEmptyStatement()}function Ge(){var e=Le();return pe(),m.createExpressionStatement(e)}function ze(){var e,t,n;return ce("if"),ae("("),e=Le(),ae(")"),t=ot(),le("else")?(X(),n=ot()):n=null,m.createIfStatement(e,t,n)}function Ve(){var e,t,n;return ce("do"),n=v.inIteration,v.inIteration=!0,e=ot(),v.inIteration=n,ce("while"),ae("("),t=Le(),ae(")"),ue(";")&&X(),m.createDoWhileStatement(e,t)}function qe(){var e,t,n;return ce("while"),ae("("),e=Le(),ae(")"),n=v.inIteration,v.inIteration=!0,t=ot(),v.inIteration=n,m.createWhileStatement(e,t)}function Ke(){var e,t,n;return n=y,e=X(),t=Me(),m.markEnd(m.createVariableDeclaration(t,e.value),n)}function Ye(){var e,t,n,r,i,o,a;return e=t=n=null,ce("for"),ae("("),ue(";")?X():(le("var")||le("let")?(v.allowIn=!1,e=Ke(),v.allowIn=!0,1===e.declarations.length&&le("in")&&(X(),r=e,i=Le(),e=null)):(v.allowIn=!1,e=Le(),v.allowIn=!0,le("in")&&(fe(e)||oe({},s.InvalidLHSInForIn),X(),r=e,i=Le(),e=null)),void 0===r&&ae(";")),void 0===r&&(ue(";")||(t=Le()),ae(";"),ue(")")||(n=Le())),ae(")"),a=v.inIteration,v.inIteration=!0,o=ot(),v.inIteration=a,void 0===r?m.createForStatement(e,t,n,o):m.createForInStatement(r,i,o)}function Je(){var e,n=null;return ce("continue"),59===u.charCodeAt(d)?(X(),v.inIteration||ie({},s.IllegalContinue),m.createContinueStatement(null)):re()?(v.inIteration||ie({},s.IllegalContinue),m.createContinueStatement(null)):(y.type===t.Identifier&&(e="$"+(n=je()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||ie({},s.UnknownLabel,n.name)),pe(),null!==n||v.inIteration||ie({},s.IllegalContinue),m.createContinueStatement(n))}function He(){var e,n=null;return ce("break"),59===u.charCodeAt(d)?(X(),v.inIteration||v.inSwitch||ie({},s.IllegalBreak),m.createBreakStatement(null)):re()?(v.inIteration||v.inSwitch||ie({},s.IllegalBreak),m.createBreakStatement(null)):(y.type===t.Identifier&&(e="$"+(n=je()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||ie({},s.UnknownLabel,n.name)),pe(),null!==n||v.inIteration||v.inSwitch||ie({},s.IllegalBreak),m.createBreakStatement(n))}function Qe(){var e=null;return ce("return"),v.inFunctionBody||oe({},s.IllegalReturn),32===u.charCodeAt(d)&&O(u.charCodeAt(d+1))?(e=Le(),pe(),m.createReturnStatement(e)):re()?m.createReturnStatement(null):(ue(";")||ue("}")||y.type===t.EOF||(e=Le()),pe(),m.createReturnStatement(e))}function We(){var e,t;return l&&(L(),oe({},s.StrictModeWith)),ce("with"),ae("("),e=Le(),ae(")"),t=ot(),m.createWithStatement(e,t)}function Xe(){var e,t,n,r=[];for(n=y,le("default")?(X(),e=null):(ce("case"),e=Le()),ae(":");d<h&&!(ue("}")||le("default")||le("case"));)t=ot(),r.push(t);return m.markEnd(m.createSwitchCase(e,r),n)}function et(){var e,t,n,r,i;if(ce("switch"),ae("("),e=Le(),ae(")"),ae("{"),t=[],ue("}"))return X(),m.createSwitchStatement(e,t);for(r=v.inSwitch,v.inSwitch=!0,i=!1;d<h&&!ue("}");)null===(n=Xe()).test&&(i&&ie({},s.MultipleDefaultsInSwitch),i=!0),t.push(n);return v.inSwitch=r,ae("}"),m.createSwitchStatement(e,t)}function tt(){var e;return ce("throw"),re()&&ie({},s.NewlineAfterThrow),e=Le(),pe(),m.createThrowStatement(e)}function nt(){var e,t,n;return n=y,ce("catch"),ae("("),ue(")")&&se(y),e=je(),l&&I(e.name)&&oe({},s.StrictCatchVariable),ae(")"),t=_e(),m.markEnd(m.createCatchClause(e,t),n)}function rt(){var e,t=[],n=null;return ce("try"),e=_e(),le("catch")&&t.push(nt()),le("finally")&&(X(),n=_e()),0!==t.length||n||ie({},s.NoCatchOrFinally),m.createTryStatement(e,[],t,n)}function it(){return ce("debugger"),pe(),m.createDebuggerStatement()}function ot(){var e,n,r,o,a=y.type;if(a===t.EOF&&se(y),a===t.Punctuator&&"{"===y.value)return _e();if(o=y,a===t.Punctuator)switch(y.value){case";":return m.markEnd(Ze(),o);case"(":return m.markEnd(Ge(),o)}if(a===t.Keyword)switch(y.value){case"break":return m.markEnd(He(),o);case"continue":return m.markEnd(Je(),o);case"debugger":return m.markEnd(it(),o);case"do":return m.markEnd(Ve(),o);case"for":return m.markEnd(Ye(),o);case"function":return m.markEnd(ct(),o);case"if":return m.markEnd(ze(),o);case"return":return m.markEnd(Qe(),o);case"switch":return m.markEnd(et(),o);case"throw":return m.markEnd(tt(),o);case"try":return m.markEnd(rt(),o);case"var":return m.markEnd(Be(),o);case"while":return m.markEnd(qe(),o);case"with":return m.markEnd(We(),o)}return(e=Le()).type===i.Identifier&&ue(":")?(X(),r="$"+e.name,Object.prototype.hasOwnProperty.call(v.labelSet,r)&&ie({},s.Redeclaration,"Label",e.name),v.labelSet[r]=!0,n=ot(),delete v.labelSet[r],m.markEnd(m.createLabeledStatement(e,n),o)):(pe(),m.markEnd(m.createExpressionStatement(e),o))}function st(){var e,n,r,o,a,c,p,f,g=[];for(f=y,ae("{");d<h&&y.type===t.StringLiteral&&(n=y,e=lt(),g.push(e),e.expression.type===i.Literal);)"use strict"===u.slice(n.start+1,n.end-1)?(l=!0,r&&oe(r,s.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(o=v.labelSet,a=v.inIteration,c=v.inSwitch,p=v.inFunctionBody,v.labelSet={},v.inIteration=!1,v.inSwitch=!1,v.inFunctionBody=!0;d<h&&!ue("}")&&void 0!==(e=lt());)g.push(e);return ae("}"),v.labelSet=o,v.inIteration=a,v.inSwitch=c,v.inFunctionBody=p,m.markEnd(m.createBlockStatement(g),f)}function at(e){var t,n,r,i,o,a,c=[];if(ae("("),!ue(")"))for(i={};d<h&&(n=y,t=je(),o="$"+n.value,l?(I(n.value)&&(r=n,a=s.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,a=s.StrictParamDupe)):e||(I(n.value)?(e=n,a=s.StrictParamName):N(n.value)?(e=n,a=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(e=n,a=s.StrictParamDupe)),c.push(t),i[o]=!0,!ue(")"));)ae(",");return ae(")"),{params:c,stricted:r,firstRestricted:e,message:a}}function ct(){var e,t,n,r,i,o,a,c,u,d=[];return u=y,ce("function"),n=y,e=je(),l?I(n.value)&&oe(n,s.StrictFunctionName):I(n.value)?(o=n,a=s.StrictFunctionName):N(n.value)&&(o=n,a=s.StrictReservedWord),d=(i=at(o)).params,r=i.stricted,o=i.firstRestricted,i.message&&(a=i.message),c=l,t=st(),l&&o&&ie(o,a),l&&r&&oe(r,a),l=c,m.markEnd(m.createFunctionDeclaration(e,d,[],t),u)}function ut(){var e,t,n,r,i,o,a,c,u=null,d=[];return c=y,ce("function"),ue("(")||(e=y,u=je(),l?I(e.value)&&oe(e,s.StrictFunctionName):I(e.value)?(n=e,r=s.StrictFunctionName):N(e.value)&&(n=e,r=s.StrictReservedWord)),d=(i=at(n)).params,t=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),a=l,o=st(),l&&n&&ie(n,r),l&&t&&oe(t,r),l=a,m.markEnd(m.createFunctionExpression(u,d,[],o),c)}function lt(){if(y.type===t.Keyword)switch(y.value){case"const":case"let":return Fe(y.value);case"function":return ct();default:return ot()}if(y.type!==t.EOF)return ot()}function dt(){for(var e,n,r,o=[];d<h&&(n=y).type===t.StringLiteral&&(e=lt(),o.push(e),e.expression.type===i.Literal);)"use strict"===u.slice(n.start+1,n.end-1)?(l=!0,r&&oe(r,s.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;d<h&&void 0!==(e=lt());)o.push(e);return o}function pt(){var e,t;return L(),ee(),t=y,l=!1,e=dt(),m.markEnd(m.createProgram(e),t)}function ft(){var e,t,n,r=[];for(e=0;e<g.tokens.length;++e)n={type:(t=g.tokens[e]).type,value:t.value},g.range&&(n.range=t.range),g.loc&&(n.loc=t.loc),r.push(n);g.tokens=r}function ht(e,n){var r;"string"==typeof e||e instanceof String||(e=String(e)),m=c,d=0,p=(u=e).length>0?1:0,f=0,h=u.length,y=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},g={},(n=n||{}).tokens=!0,g.tokens=[],g.tokenize=!0,g.openParenToken=-1,g.openCurlyToken=-1,g.range="boolean"==typeof n.range&&n.range,g.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(g.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(g.errors=[]);try{if(ee(),y.type===t.EOF)return g.tokens;for(X();y.type!==t.EOF;)try{X()}catch(e){if(g.errors){g.errors.push(e);break}throw e}ft(),r=g.tokens,void 0!==g.comments&&(r.comments=g.comments),void 0!==g.errors&&(r.errors=g.errors)}catch(e){throw e}finally{g={}}return r}function mt(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),m=c,d=0,p=(u=e).length>0?1:0,f=0,h=u.length,y=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},g={},void 0!==t&&(g.range="boolean"==typeof t.range&&t.range,g.loc="boolean"==typeof t.loc&&t.loc,g.attachComment="boolean"==typeof t.attachComment&&t.attachComment,g.loc&&null!==t.source&&void 0!==t.source&&(g.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(g.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(g.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(g.errors=[]),g.attachComment&&(g.range=!0,g.comments=[],g.bottomRightStack=[],g.trailingComments=[],g.leadingComments=[]));try{n=pt(),void 0!==g.comments&&(n.comments=g.comments),void 0!==g.tokens&&(ft(),n.tokens=g.tokens),void 0!==g.errors&&(n.errors=g.errors)}catch(e){throw e}finally{g={}}return n}(n={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},a={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},c={name:"SyntaxTree",processComment:function(e){var t,n;if(!(e.type===i.Program&&e.body.length>0)){for(g.trailingComments.length>0?g.trailingComments[0].range[0]>=e.range[1]?(n=g.trailingComments,g.trailingComments=[]):g.trailingComments.length=0:g.bottomRightStack.length>0&&g.bottomRightStack[g.bottomRightStack.length-1].trailingComments&&g.bottomRightStack[g.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(n=g.bottomRightStack[g.bottomRightStack.length-1].trailingComments,delete g.bottomRightStack[g.bottomRightStack.length-1].trailingComments);g.bottomRightStack.length>0&&g.bottomRightStack[g.bottomRightStack.length-1].range[0]>=e.range[0];)t=g.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):g.leadingComments.length>0&&g.leadingComments[g.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=g.leadingComments,g.leadingComments=[]),n&&(e.trailingComments=n),g.bottomRightStack.push(e)}},markEnd:function(e,t){return g.range&&(e.range=[t.start,d]),g.loc&&(e.loc=new ne(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),p,d-f),this.postProcess(e)),g.attachComment&&this.processComment(e),e},postProcess:function(e){return g.source&&(e.loc.source=g.source),e},createArrayExpression:function(e){return{type:i.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,n){return{type:i.AssignmentExpression,operator:e,left:t,right:n}},createBinaryExpression:function(e,t,n){return{type:"||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,operator:e,left:t,right:n}},createBlockStatement:function(e){return{type:i.BlockStatement,body:e}},createBreakStatement:function(e){return{type:i.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:i.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:i.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,n){return{type:i.ConditionalExpression,test:e,consequent:t,alternate:n}},createContinueStatement:function(e){return{type:i.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:i.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(e){return{type:i.ExpressionStatement,expression:e}},createForStatement:function(e,t,n,r){return{type:i.ForStatement,init:e,test:t,update:n,body:r}},createForInStatement:function(e,t,n){return{type:i.ForInStatement,left:e,right:t,body:n,each:!1}},createFunctionDeclaration:function(e,t,n,r){return{type:i.FunctionDeclaration,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,n,r){return{type:i.FunctionExpression,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:i.Identifier,name:e}},createIfStatement:function(e,t,n){return{type:i.IfStatement,test:e,consequent:t,alternate:n}},createLabeledStatement:function(e,t){return{type:i.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:i.Literal,value:e.value,raw:u.slice(e.start,e.end)}},createMemberExpression:function(e,t,n){return{type:i.MemberExpression,computed:"["===e,object:t,property:n}},createNewExpression:function(e,t){return{type:i.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:i.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:i.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:i.Program,body:e}},createProperty:function(e,t,n){return{type:i.Property,key:t,value:n,kind:e}},createReturnStatement:function(e){return{type:i.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:i.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:i.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:i.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(e){return{type:i.ThrowStatement,argument:e}},createTryStatement:function(e,t,n,r){return{type:i.TryStatement,block:e,guardedHandlers:t,handlers:n,finalizer:r}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:i.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:i.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:i.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:i.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:i.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:i.WithStatement,object:e,body:t}}},e.version="1.2.2",e.tokenize=ht,e.parse=mt,e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()}))},{}],1:[function(e,t,n){(function(r){var i=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(e,n,r,i,o,s,a){i.ast||(i.ast=t,t.initialize());var c=s.length-1;switch(o){case 1:return i.ast.set({expression:{type:"root",value:s[c]}}),i.ast.unshift(),i.ast.yield();case 2:return i.ast.set({expression:{type:"root",value:s[c-1]}}),i.ast.unshift(),i.ast.yield();case 3:return i.ast.unshift(),i.ast.yield();case 4:return i.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:s[c-1]}}),i.ast.unshift(),i.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:i.ast.set({operation:"member"}),i.ast.push();break;case 8:i.ast.set({operation:"subscript"}),i.ast.push();break;case 9:case 19:i.ast.set({scope:"child"});break;case 10:case 20:i.ast.set({scope:"descendant"});break;case 12:i.ast.set({scope:"child",operation:"member"});break;case 14:i.ast.set({expression:{type:"wildcard",value:s[c]}});break;case 15:i.ast.set({expression:{type:"identifier",value:s[c]}});break;case 16:i.ast.set({expression:{type:"script_expression",value:s[c]}});break;case 17:i.ast.set({expression:{type:"numeric_literal",value:parseInt(s[c])}});break;case 24:s[c].length>1?i.ast.set({expression:{type:"union",value:s[c]}}):this.$=s[c];break;case 25:this.$=[s[c]];break;case 26:this.$=s[c-2].concat(s[c]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(s[c])}},i.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:s[c]}},i.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:s[c]}},i.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:s[c]}},i.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:s[c]}},i.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:s[c]}},i.ast.set(this.$);break;case 33:case 34:this.$=s[c]}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,c=0,u=0,l=2,d=1,p=i.slice.call(arguments,1);this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;i.push(f);var h=this.lexer.options&&this.lexer.options.ranges;function m(){var e;return"number"!=typeof(e=t.lexer.lex()||d)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,g,b,x,k,S,w,E,O={};;){if(g=n[n.length-1],this.defaultActions[g]?b=this.defaultActions[g]:(null==y&&(y=m()),b=o[g]&&o[g][y]),void 0===b||!b.length||!b[0]){var C="";for(k in E=[],o[g])this.terminals_[k]&&k>l&&E.push("'"+this.terminals_[k]+"'");C=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(a+1)+": Unexpected "+(y==d?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[y]||y,line:this.lexer.yylineno,loc:f,expected:E})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+y);switch(b[0]){case 1:n.push(y),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(b[1]),y=null,v?(y=v,v=null):(c=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,f=this.lexer.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[b[1]][1],O.$=r[r.length-S],O._$={first_line:i[i.length-(S||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(S||1)].first_column,last_column:i[i.length-1].last_column},h&&(O._$.range=[i[i.length-(S||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(O,[s,c,a,this.yy,b[1],r,i].concat(p))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),i=i.slice(0,-1*S)),n.push(this.productions_[b[1]][0]),r.push(O.$),i.push(O._$),w=o[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},t={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(e){for(var t in e)this._node[t]=e[t];return this._node},node:function(e){return arguments.length&&(this._node=e),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var e=this._nodes;return this.initialize(),e}},n={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return t.yytext=t.yytext.substr(1,t.yyleng-2),32;case 11:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function r(){this.yy={}}return e.lexer=n,r.prototype=e,e.Parser=r,new r}();void 0!==e&&void 0!==n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),r.exit(1));var i=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return n.parser.parse(i)},void 0!==t&&e.main===t&&n.main(r.argv.slice(1)))}).call(this,e("_process"))},{_process:14,fs:12,path:13}],2:[function(e,t,n){t.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(e,t,n){var r=e("./dict"),i=e("fs"),o={lex:{macros:{esc:"\\\\",int:r.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[r.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[r.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[r.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};i.readFileSync&&(o.moduleInclude=i.readFileSync(e.resolve("../include/module.js")),o.actionInclude=i.readFileSync(e.resolve("../include/action.js"))),t.exports=o},{"./dict":2,fs:12}],4:[function(e,t,n){var r=e("./aesprim"),i=e("./slice"),o=e("static-eval"),s=e("underscore").uniq,a=function(){return this.initialize.apply(this,arguments)};function c(t,n,i){var o=e("./index"),s=h(r.parse(n).body[0].expression,{"@":t.value}),a=i.replace(/\{\{\s*value\s*\}\}/g,s),c=o.nodes(t.value,a);return c.forEach((function(e){e.path=t.path.concat(e.path.slice(1))})),c}function u(e){return Array.isArray(e)}function l(e){return e&&!(e instanceof Array)&&e instanceof Object}function d(e){return function(t,n,r,i){var o=t.value,s=t.path,a=[],c=function(t,o){u(t)?(t.forEach((function(e,t){a.length>=i||r(t,e,n)&&a.push({path:o.concat(t),value:e})})),t.forEach((function(t,n){a.length>=i||e&&c(t,o.concat(n))}))):l(t)&&(this.keys(t).forEach((function(e){a.length>=i||r(e,t[e],n)&&a.push({path:o.concat(e),value:t[e]})})),this.keys(t).forEach((function(n){a.length>=i||e&&c(t[n],o.concat(n))})))}.bind(this);return c(o,s),a}}function p(e){return function(t,n,r){return this.descend(n,t.expression.value,e,r)}}function f(e){return function(t,n,r){return this.traverse(n,t.expression.value,e,r)}}function h(){try{return o.apply(this,arguments)}catch(e){}}function m(e){return e=e.filter((function(e){return e})),s(e,(function(e){return e.path.map((function(e){return String(e).replace("-","--")})).join("-")}))}function y(e){var t=String(e);return t.match(/^-?[0-9]+$/)?parseInt(t):null}a.prototype.initialize=function(){this.traverse=d(!0),this.descend=d()},a.prototype.keys=Object.keys,a.prototype.resolve=function(e){var t=[e.operation,e.scope,e.expression.type].join("-"),n=this._fns[t];if(!n)throw new Error("couldn't resolve key: "+t);return n.bind(this)},a.prototype.register=function(e,t){if(!t instanceof Function)throw new Error("handler must be a function");this._fns[e]=t},a.prototype._fns={"member-child-identifier":function(e,t){var n=e.expression.value,r=t.value;if(r instanceof Object&&n in r)return[{value:r[n],path:t.path.concat(n)}]},"member-descendant-identifier":f((function(e,t,n){return e==n})),"subscript-child-numeric_literal":p((function(e,t,n){return e===n})),"member-child-numeric_literal":p((function(e,t,n){return String(e)===String(n)})),"subscript-descendant-numeric_literal":f((function(e,t,n){return e===n})),"member-child-wildcard":p((function(){return!0})),"member-descendant-wildcard":f((function(){return!0})),"subscript-descendant-wildcard":f((function(){return!0})),"subscript-child-wildcard":p((function(){return!0})),"subscript-child-slice":function(e,t){if(u(t.value)){var n=e.expression.value.split(":").map(y),r=t.value.map((function(e,n){return{value:e,path:t.path.concat(n)}}));return i.apply(null,[r].concat(n))}},"subscript-child-union":function(e,t){var n=[];return e.expression.value.forEach((function(e){var r={operation:"subscript",scope:"child",expression:e.expression},i=this.resolve(r)(r,t);i&&(n=n.concat(i))}),this),m(n)},"subscript-descendant-union":function(t,n,r){var i=e(".."),o=this,s=[];return i.nodes(n,"$..*").slice(1).forEach((function(e){s.length>=r||t.expression.value.forEach((function(t){var n={operation:"subscript",scope:"child",expression:t.expression},r=o.resolve(n)(n,e);s=s.concat(r)}))})),m(s)},"subscript-child-filter_expression":function(e,t,n){var i=e.expression.value.slice(2,-1),o=r.parse(i).body[0].expression,s=function(e,t){return h(o,{"@":t})};return this.descend(t,null,s,n)},"subscript-descendant-filter_expression":function(e,t,n){var i=e.expression.value.slice(2,-1),o=r.parse(i).body[0].expression,s=function(e,t){return h(o,{"@":t})};return this.traverse(t,null,s,n)},"subscript-child-script_expression":function(e,t){return c(t,e.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(e,t){return c(t,e.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(e,t){return c(t,e.expression.value.slice(1,-1),"$..value")}},a.prototype._fns["subscript-child-string_literal"]=a.prototype._fns["member-child-identifier"],a.prototype._fns["member-descendant-numeric_literal"]=a.prototype._fns["subscript-descendant-string_literal"]=a.prototype._fns["member-descendant-identifier"],t.exports=a},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(e,t,n){var r=e("assert"),i=e("./dict"),o=e("./parser"),s=e("./handlers"),a=function(){this.initialize.apply(this,arguments)};function c(e){return"[object String]"==Object.prototype.toString.call(e)}a.prototype.initialize=function(){this.parser=new o,this.handlers=new s},a.prototype.parse=function(e){return r.ok(c(e),"we need a path"),this.parser.parse(e)},a.prototype.parent=function(e,t){r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path");var n=this.nodes(e,t)[0];return n.path.pop(),this.value(e,n.path)},a.prototype.apply=function(e,t,n){r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),r.equal(typeof n,"function","fn needs to be function");var i=this.nodes(e,t).sort((function(e,t){return t.path.length-e.path.length}));return i.forEach((function(t){var r=t.path.pop(),i=this.value(e,this.stringify(t.path)),o=t.value=n.call(e,i[r]);i[r]=o}),this),i},a.prototype.value=function(e,t,n){if(r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),arguments.length>=3){var i=this.nodes(e,t).shift();if(!i)return this._vivify(e,t,n);var o=i.path.slice(-1).shift();this.parent(e,this.stringify(i.path))[o]=n}return this.query(e,Array.isArray(t)||"string"==typeof t?this.stringify(t):t,1).shift()},a.prototype._vivify=function(e,t,n){var i=this;r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path");var o=this.parser.parse(t).map((function(e){return e.expression.value})),s=function(t,n){var r=t.pop(),o=i.value(e,t);o||(s(t.concat(),"string"==typeof r?{}:[]),o=i.value(e,t)),o[r]=n};return s(o,n),this.query(e,t)[0]},a.prototype.query=function(e,t,n){return r.ok(e instanceof Object,"obj needs to be an object"),r.ok("object"==typeof t||c(t),"we need a path"),this.nodes(e,t,n).map((function(e){return e.value}))},a.prototype.paths=function(e,t,n){return r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),this.nodes(e,t,n).map((function(e){return e.path}))},a.prototype.nodes=function(e,t,n){if(r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),0===n)return[];var i="string"==typeof t?this.parser.parse(t):t,o=this.handlers,s=[{path:["$"],value:e}],a=[];return i.length&&"root"==i[0].expression.type&&i.shift(),i.length?(i.forEach((function(e,t){if(!(a.length>=n)){var r=o.resolve(e),c=[];s.forEach((function(o){if(!(a.length>=n)){var s=r(e,o,n);t==i.length-1?a=a.concat(s||[]):c=c.concat(s||[])}})),s=c}})),n?a.slice(0,n):a):s},a.prototype.stringify=function(e){r.ok(e,"we need a path");var t="$",n={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(e=this._normalize(e)).forEach((function(e){if("root"!=e.expression.type){var r,i=[e.scope,e.operation].join("-"),o=n[i];if(r="string_literal"==e.expression.type?JSON.stringify(e.expression.value):e.expression.value,!o)throw new Error("couldn't find template "+i);t+=o.replace(/{{value}}/,r)}})),t},a.prototype._normalize=function(e){if(r.ok(e,"we need a path"),"string"==typeof e)return this.parser.parse(e);if(Array.isArray(e)&&"string"==typeof e[0]){var t=[{expression:{type:"root",value:"$"}}];return e.forEach((function(e,n){if("$"!=e||0!==n)if("string"==typeof e&&e.match("^"+i.identifier+"$"))t.push({operation:"member",scope:"child",expression:{value:e,type:"identifier"}});else{var r="number"==typeof e?"numeric_literal":"string_literal";t.push({operation:"subscript",scope:"child",expression:{value:e,type:r}})}})),t}if(Array.isArray(e)&&"object"==typeof e[0])return e;throw new Error("couldn't understand path "+e)},a.Handlers=s,a.Parser=o;var u=new a;u.JSONPath=a,t.exports=u},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(e,t,n){var r=e("./grammar"),i=e("../generated/parser"),o=function(){var e=new i.Parser,t=e.parseError;return e.yy.parseError=function(){e.yy.ast&&e.yy.ast.initialize(),t.apply(e,arguments)},e};o.grammar=r,t.exports=o},{"../generated/parser":1,"./grammar":3}],7:[function(e,t,n){function r(e){return String(e).match(/^[0-9]+$/)?parseInt(e):Number.isFinite(e)?parseInt(e,10):0}t.exports=function(e,t,n,i){if("string"==typeof t)throw new Error("start cannot be a string");if("string"==typeof n)throw new Error("end cannot be a string");if("string"==typeof i)throw new Error("step cannot be a string");var o=e.length;if(0===i)throw new Error("step cannot be zero");if(i=i?r(i):1,n=n<0?o+n:n,t=r(0===(t=t<0?o+t:t)?0:t||(i>0?0:o-1)),n=r(0===n?0:n||(i>0?o:-1)),t=i>0?Math.max(0,t):Math.min(o,t),n=i>0?Math.min(n,o):Math.max(-1,n),i>0&&n<=t)return[];if(i<0&&t<=n)return[];for(var s=[],a=t;a!=n&&!(i<0&&a<=n||i>0&&a>=n);a+=i)s.push(e[a]);return s}},{}],8:[function(e,t,n){var r=e("util/"),i=Array.prototype.slice,o=Object.prototype.hasOwnProperty,s=t.exports=d;function a(e,t){return r.isUndefined(t)?""+t:r.isNumber(t)&&!isFinite(t)||r.isFunction(t)||r.isRegExp(t)?t.toString():t}function c(e,t){return r.isString(e)?e.length<t?e:e.slice(0,t):e}function u(e){return c(JSON.stringify(e.actual,a),128)+" "+e.operator+" "+c(JSON.stringify(e.expected,a),128)}function l(e,t,n,r,i){throw new s.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function d(e,t){e||l(e,!0,t,"==",s.ok)}function p(e,t){if(e===t)return!0;if(r.isBuffer(e)&&r.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return r.isDate(e)&&r.isDate(t)?e.getTime()===t.getTime():r.isRegExp(e)&&r.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:r.isObject(e)||r.isObject(t)?h(e,t):e==t}function f(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function h(e,t){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(r.isPrimitive(e)||r.isPrimitive(t))return e===t;var n=f(e),o=f(t);if(n&&!o||!n&&o)return!1;if(n)return p(e=i.call(e),t=i.call(t));var s,a,c=v(e),u=v(t);if(c.length!=u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!=u[a])return!1;for(a=c.length-1;a>=0;a--)if(!p(e[s=c[a]],t[s]))return!1;return!0}function m(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function y(e,t,n,i){var o;r.isString(n)&&(i=n,n=null);try{t()}catch(e){o=e}if(i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!o&&l(o,n,"Missing expected exception"+i),!e&&m(o,n)&&l(o,n,"Got unwanted exception"+i),e&&o&&n&&!m(o,n)||!e&&o)throw o}s.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=u(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=t.name,o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},r.inherits(s.AssertionError,Error),s.fail=l,s.ok=d,s.equal=function(e,t,n){e!=t&&l(e,t,n,"==",s.equal)},s.notEqual=function(e,t,n){e==t&&l(e,t,n,"!=",s.notEqual)},s.deepEqual=function(e,t,n){p(e,t)||l(e,t,n,"deepEqual",s.deepEqual)},s.notDeepEqual=function(e,t,n){p(e,t)&&l(e,t,n,"notDeepEqual",s.notDeepEqual)},s.strictEqual=function(e,t,n){e!==t&&l(e,t,n,"===",s.strictEqual)},s.notStrictEqual=function(e,t,n){e===t&&l(e,t,n,"!==",s.notStrictEqual)},s.throws=function(e,t,n){y.apply(this,[!0].concat(i.call(arguments)))},s.doesNotThrow=function(e,t){y.apply(this,[!1].concat(i.call(arguments)))},s.ifError=function(e){if(e)throw e};var v=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}},{"util/":11}],9:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],10:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],11:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<o;c=r[++n])b(c)||!C(c)?s+=" "+c:s+=" "+a(c);return s},r.deprecate=function(e,i){if(E(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;function s(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}return s};var o,s={};function a(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&r._extend(n,t),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),d(n,e,n.depth)}function c(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function l(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function d(e,t,n){if(e.customInspect&&t&&I(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return S(i)||(i=d(e,i,n)),i}var o=p(e,t);if(o)return o;var s=Object.keys(t),a=l(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),N(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(I(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if($(t))return e.stylize(Date.prototype.toString.call(t),"date");if(N(t))return f(t)}var u,g="",b=!1,x=["{","}"];return v(t)&&(b=!0,x=["[","]"]),I(t)&&(g=" [Function"+(t.name?": "+t.name:"")+"]"),O(t)&&(g=" "+RegExp.prototype.toString.call(t)),$(t)&&(g=" "+Date.prototype.toUTCString.call(t)),N(t)&&(g=" "+f(t)),0!==s.length||b&&0!=t.length?n<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=b?h(e,t,n,a,s):s.map((function(r){return m(e,t,n,a,r,b)})),e.seen.pop(),y(u,g,x)):x[0]+g+x[1]}function p(e,t){if(E(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return k(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)D(t,String(s))?o.push(m(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(m(e,t,n,r,i,!0))})),o}function m(e,t,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),D(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=b(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),E(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function y(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function v(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function b(e){return null===e}function x(e){return null==e}function k(e){return"number"==typeof e}function S(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function E(e){return void 0===e}function O(e){return C(e)&&"[object RegExp]"===P(e)}function C(e){return"object"==typeof e&&null!==e}function $(e){return C(e)&&"[object Date]"===P(e)}function N(e){return C(e)&&("[object Error]"===P(e)||e instanceof Error)}function I(e){return"function"==typeof e}function R(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function P(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(E(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;s[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else s[e]=function(){};return s[e]},r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=v,r.isBoolean=g,r.isNull=b,r.isNullOrUndefined=x,r.isNumber=k,r.isString=S,r.isSymbol=w,r.isUndefined=E,r.isRegExp=O,r.isObject=C,r.isDate=$,r.isError=N,r.isFunction=I,r.isPrimitive=R,r.isBuffer=e("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",L(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!C(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(e,t,n){},{}],13:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,r="/"===s.charAt(0))}return(r?"/":"")+(n=t(i(n.split("/"),(function(e){return!!e})),!r).join("/"))||"."},n.normalize=function(e){var r=n.isAbsolute(e),s="/"===o(e,-1);return(e=t(i(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o=function(e,t,n){return e.substr(t,n)}}).call(this,e("_process"))},{_process:14}],14:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,d=[],p=!1,f=-1;function h(){p&&l&&(p=!1,l.length?d=l.concat(d):f=-1,d.length&&m())}function m(){if(!p){var e=c(h);p=!0;for(var t=d.length;t;){for(l=d,d=[];++f<t;)l&&l[f].run();f=-1,t=d.length}l=null,p=!1,u(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new y(e,t)),1!==d.length||p||c(m)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],15:[function(e,t,n){var r=e("escodegen").generate;t.exports=function(e,t){t||(t={});var n={},i=function e(i,o){if("Literal"===i.type)return i.value;if("UnaryExpression"===i.type){var s=e(i.argument);return"+"===i.operator?+s:"-"===i.operator?-s:"~"===i.operator?~s:"!"===i.operator?!s:n}if("ArrayExpression"===i.type){for(var a=[],c=0,u=i.elements.length;c<u;c++){if((v=e(i.elements[c]))===n)return n;a.push(v)}return a}if("ObjectExpression"===i.type){var l={};for(c=0;c<i.properties.length;c++){var d=null===(g=i.properties[c]).value?g.value:e(g.value);if(d===n)return n;l[g.key.value||g.key.name]=d}return l}if("BinaryExpression"===i.type||"LogicalExpression"===i.type){if((u=e(i.left))===n)return n;var p=e(i.right);if(p===n)return n;var f=i.operator;return"=="===f?u==p:"==="===f?u===p:"!="===f?u!=p:"!=="===f?u!==p:"+"===f?u+p:"-"===f?u-p:"*"===f?u*p:"/"===f?u/p:"%"===f?u%p:"<"===f?u<p:"<="===f?u<=p:">"===f?u>p:">="===f?u>=p:"|"===f?u|p:"&"===f?u&p:"^"===f?u^p:"&&"===f?u&&p:"||"===f?u||p:n}if("Identifier"===i.type)return{}.hasOwnProperty.call(t,i.name)?t[i.name]:n;if("ThisExpression"===i.type)return{}.hasOwnProperty.call(t,"this")?t.this:n;if("CallExpression"===i.type){var h=e(i.callee);if(h===n)return n;if("function"!=typeof h)return n;var m=i.callee.object?e(i.callee.object):n;m===n&&(m=null);var y=[];for(c=0,u=i.arguments.length;c<u;c++){var v;if((v=e(i.arguments[c]))===n)return n;y.push(v)}return h.apply(m,y)}var g;if("MemberExpression"===i.type)return(l=e(i.object))===n||"function"==typeof l?n:"Identifier"===i.property.type?l[i.property.name]:(g=e(i.property))===n?n:l[g];if("ConditionalExpression"===i.type)return(s=e(i.test))===n?n:e(s?i.consequent:i.alternate);if("ExpressionStatement"===i.type)return(s=e(i.expression))===n?n:s;if("ReturnStatement"===i.type)return e(i.argument);if("FunctionExpression"===i.type){var b=i.body.body,x={};for(Object.keys(t).forEach((function(e){x[e]=t[e]})),c=0;c<i.params.length;c++){var k=i.params[c];if("Identifier"!=k.type)return n;t[k.name]=null}for(var c in b)if(e(b[c])===n)return n;t=x;var S=Object.keys(t),w=S.map((function(e){return t[e]}));return Function(S.join(", "),"return "+r(i)).apply(null,w)}if("TemplateLiteral"===i.type){var E="";for(c=0;c<i.expressions.length;c++)E+=e(i.quasis[c]),E+=e(i.expressions[c]);return E+=e(i.quasis[c])}if("TaggedTemplateExpression"===i.type){var O=e(i.tag),C=i.quasi,$=C.quasis.map(e),N=C.expressions.map(e);return O.apply(null,[$].concat(N))}return"TemplateElement"===i.type?i.value.cooked:n}(e);return i===n?void 0:i}},{escodegen:12}],jsonpath:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")},77316:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(11227),i=n.n(r),o=n(186);const s=i()("plugin-kubectl/controller/cli");const a=function(){const e=o.env.KUI_DEFAULT_KUBECTL||"kubectl";try{const{defaultKubectl:t}=n(80677);return t||e}catch(t){return s("Client did not define a default kubectl CLI, assuming default kubectl"),e}}()},82140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(58853);const i=(e,t)=>"Event"===e&&"wide"!==(0,r.QI)(t)?["Object","Reason","Message","Last Seen"]:void 0},94073:(e,t,n)=>{"use strict";n.d(t,{a:()=>c,Z:()=>u});var r=n(18495),i=n(71065),o=n(25218),s=n(76299),a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function c(e,t){try{const n=JSON.parse(t);return(0,o.Cb)(n)?n:{code:e,error:t}}catch(n){return{code:e,error:t}}}function u(e,t,n,u,l=!1){return a(this,void 0,void 0,(function*(){const d=yield Promise.all(e.map((e=>a(this,void 0,void 0,(function*(){let r=(0,s.Q)(e)?c(e.code,e.error):(0,o.Cb)(e)?e:void 0;if(r){if((0,o.Cb)(r)){if(404===r.code&&"Namespace"!==n){const e=t(!1),a=t(!0)+"?limit=1",c={headers:i.o},[l,d]=yield Promise.all([(0,s.dc)(u,e,c).then((e=>e[0])).catch((e=>JSON.parse(e.message))),(0,s.dc)(u,a,c).then((e=>e[0])).catch((e=>JSON.parse(e.message)))]);if((0,o.Cb)(d)){const e=new Error(`error: the server doesn't have a resource type "${n}"`);return e.code=404,e}(0,o.Cb)(l)&&(r=l)}const e=new Error(`Error from server (${r.reason}): ${r.message}`);return e.code=r.code,e}{const e=new Error(r.error);return e.code=r.code||500,e}}return e})))));if(!l&&d.every(r.isCodedError)){const e=new Error(d.map((e=>e.message)).join("\n"));throw e.code=d[0].code,e}{const e={errors:[],ok:[],okIndices:[],errorIndices:[]};return d.reduce(((e,t,n)=>((0,r.isCodedError)(t)?(e.errors.push(t),e.errorIndices.push(n)):(e.ok.push(t),e.okIndices.push(n)),e)),e)}}))}},76973:(e,t,n)=>{"use strict";n.d(t,{hC:()=>v,ZP:()=>g});var r=n(18495),i=n(74849),o=n(76299),s=n(50816),a=n(98919),c=n(43888),u=n(58853),l=n(82140),d=n(56312),p=n(94073),f=n(71065),h=n(25218),m=n(48764).Buffer,y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function v(e,t,s,c,l,h,v=!1,g){return y(this,void 0,void 0,(function*(){const{kind:y}=c,b={explainedKind:c,names:s,namespace:t},x=yield(0,d.D)(e,t,h,c),k=0===s.length?x(!0,!0):s.map(x.bind(void 0,!0,!0)).join(","),S=l||"default",w=(0,u.LJ)(S);if("wide"===S||"default"===S||w){const s=yield(0,o.dc)(h,k,{headers:w?f.o:f.X,returnErrors:!0}),{errors:c,ok:l}=yield(0,p.Z)(s,x,y,h);if(w){const t=l.reduce(((e,t)=>{const n=m.isBuffer(t)||"string"==typeof t?JSON.parse(t.toString()):t;return e&&e.items?(e.items=e.items.concat(n.items),e):n}),void 0);t.isKubeResource=!0;const r=(yield n.e(2846).then(n.bind(n,92846))).toKuiTableFromCustomColumns(t,h,e,y,S);return(0,u.CC)(h)?(0,i.ZP)(e,h,y,b,r,x):r}{const n=l.reduce(((e,t)=>{const n=m.isBuffer(t)||"string"==typeof t?JSON.parse(t.toString()):t;return e?(e.rows=e.rows.concat(n.rows),e):n}),void 0);if(!(h.execOptions.type!==r.ExecType.TopLevel||!n||n.rows&&0!==n.rows.length||(0,u.CC)(h))){const e=new Error(`No resources found in **${t}** namespace.`);throw e.code=404,e}try{const t=(0,a.k8)(yield(0,a.hb)(n,y,h,e,v,g),c.map((e=>e.message)).join("\n"));return(0,u.CC)(h)?(0,i.ZP)(e,h,y,b,t,x):t}catch(e){throw console.error("error formatting table",e),new Error("Internal Error")}}}}))}function g(e,t){return y(this,void 0,void 0,(function*(){const r=(0,u.D_)(e),i=(0,u.QI)(e),a=(0,s.fY)(e),f=e.argvNoOptions.indexOf("get")+1,g=e.argvNoOptions.slice(f+1),b=t?yield t:{kind:void 0,version:void 0,isClusterScoped:!1};return function(e,t,r,i,s,a){return y(this,void 0,void 0,(function*(){const f=(0,u.$L)(a),y=(0,u.EC)(s)||"name"===s;if(f&&!y)return(0,c.$)(a,"get",e,void 0,void 0,void 0,(0,u.CC)(a));if((0,u.cV)(a))return v(e,t,r,i,s,a,void 0,(0,l.Z)(i.kind,a));if(!(0,u.cV)(a)&&!f&&void 0===a.parsedOptions.kubeconfig&&y){const c=yield(0,d.D)(e,t,a,i),u=0===r.length?c(!0,!0):r.map(c.bind(void 0,!0,!0)).join(",");let l;try{l=(yield(0,o.dc)(a,u,{headers:{accept:"application/json"}}))[0]}catch(e){if(l=(0,p.a)(e.code,e.message),!(0,h.Cb)(l))throw e}if((0,h.Cb)(l)){const e=new Error(`Error from server (${l.reason}): ${l.message}`);throw e.code=l.code,e}if("name"!==s){if("yaml"===s){const{dump:e}=yield n.e(8163).then(n.bind(n,78163));return{content:{code:0,stderr:"",stdout:e(m.isBuffer(l)||"string"==typeof l?JSON.parse(l.toString()):l),wasSentToPty:!1}}}return{content:{code:0,stderr:"",stdout:m.isBuffer(l)||"string"==typeof l?l.toString():JSON.stringify(l),wasSentToPty:!1}}}try{return{content:{code:0,stderr:"",stdout:(m.isBuffer(l)||"string"==typeof l?JSON.parse(l.toString()):l).items.map((e=>e.metadata.name)).join("\n"),wasSentToPty:!1}}}catch(e){throw new Error(l.toString())}}}))}(a,yield r,g,b,i,e)}))}},71065:(e,t,n)=>{"use strict";n.d(t,{o:()=>r,X:()=>i});const r={accept:"application/json"},i={accept:"application/json;as=Table;g=meta.k8s.io;v=v1"}},98764:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(11227),i=n.n(r),o=n(26470),s=n(18495),a=n(76973),c=n(82140),u=n(84323);const l="Kind",d="Status",p={name:"Name",attributes:[{key:l,value:l},{key:d,value:d}]};function f(e,t,n,r,i,o=[]){const s={name:e,attributes:o.concat([{key:l,value:t},{key:d,value:n,tag:"badge",css:r}])};return i?Object.assign({},i,s):s}function h(e,t){return e.metadata&&e.metadata.labels?e.metadata.labels[t]:void 0}function m(e,t){if(e.spec&&e.spec.selector&&e.spec.selector.matchLabels)return e.spec.selector.matchLabels[t]}function y(e,t){const n=e.name,r=e.attributes.findIndex((e=>"badge"===e.tag)),i=r>=0?e.attributes[r].value:"Unknown",o=r>=0?(0,u.o)(e.attributes[r].css):u.Z.Gray,s=[],a=e.object?h(e.object,"tier")||h(e.object,"app.kubernetes.io/component")||m(e.object,"tier"):"";s.push({key:"Tier",value:a});const c=e.object?h(e.object,"app")||h(e.object,"app.kubernetes.io/name")||m(e.object,"app"):"";return s.push({key:"Application",value:c}),f(n,t,i,o,e,s)}function v(e,t){return e.map(((e,n)=>y(e,Array.isArray(t)?t[n]:t)))}function g(e,t){return{header:p,body:e.map((e=>function(e,t){return f(e,t,"Offline",u.Z.Red)}(e,t)))}}var b=n(56312),x=n(74849),k=n(43888),S=n(87500),w=n(45997),E=n(50816),O=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const C=i()("plugin-kubectl/controller/client/direct/status");function $(e,t){return t?e.body.reduce(((e,n)=>(0,k.o)(n,t)?e:e+1),0):e.body.length}class N{constructor(e,t,n,r,i,o,s,a,c,u=!1){this.drilldownCommand=e,this.args=t,this.kind=n,this.resourceVersion=r,this.formatUrl=i,this.groups=o,this.finalState=s,this.initialRowKeys=a,this.nNotReady=c,this.monitorEvents=u,this.nNotDone=0}abort(){C("abort requested",this.watchers.length),this.watchers.forEach((e=>{e&&e.abort()}))}init(e){this.pusher=e,this.watchers=this.resourceVersion.map(((e,t)=>{if(e&&0!==this.nNotReady[t]){const n=new x.NC(this.drilldownCommand,this.args,this.kind[t].kind,e,this.formatUrl[t],this.groups[t],this.finalState,this.initialRowKeys[t],this.nNotReady[t],this.monitorEvents,!0);return this.nNotReady[t]>0&&this.nNotDone++,n}})),this.watchers.forEach(((e,t)=>{e&&e.init(this.myPusher(t))}))}myPusher(e){const t={header:()=>{},update:(t,n,r)=>{C("update of unified row",t.rowKey,this.kind[e].kind,t.attributes[1].value),this.pusher.update(y(t,this.kind[e].kind),n,r)},done:()=>{C("one sub-table is done",this.kind[e],this.nNotDone),--this.nNotDone<=0&&(C("all sub-tables are done"),this.pusher.done())}};return Object.assign({},this.pusher,t)}}function I(e,t,n,r=(0,E.fY)(e),i,u=!0){return O(this,void 0,void 0,(function*(){if(0===t.length)return;const l={REPL:e.REPL,execOptions:{type:e.execOptions.type},parsedOptions:{}},d=yield Promise.all(t.map(((t,i)=>O(this,void 0,void 0,(function*(){return{idx:i,table:yield(0,a.hC)(r,t.namespace,t.names,t.explainedKind,"default",l,!0,(0,c.Z)(t.explainedKind.kind,e)).then((e=>"string"==typeof e?g(t.names,t.explainedKind.kind):e)).catch((e=>{if(404===e.code)return u&&n!==w.d.OfflineLike?{body:[]}:g(t.names,t.explainedKind.kind)}))}})))));if(d.length>0){if(1===t.length&&1===d.length){const e=u?$(d[0].table,n):0;return 0===e?(C("special case: single-group watching, all-ready all ready!",e,t[0]),"Namespace"===t[0].explainedKind.kind&&(0,S.xf)("CreateOrDeleteNamespace"),d[0].table):(C("special case: single-group watching with some not yet ready",e,t[0]),(0,x.ZP)(r,l,t[0].explainedKind.kind,t[0],d[0].table,(0,b.D)(r,t[0].namespace,l,t[0].explainedKind),n,d[0].table.body.map((e=>({rowKey:e.rowKey,isReady:(0,k.o)(e,n)}))),e,!0,!0))}const a=i?"string"==typeof i?(0,o.basename)(i):i.map((e=>(0,o.basename)(e))).join(","):void 0,c=t.every((e=>e.namespace===t[0].namespace))?[{label:t[0].namespace}]:void 0,p=void 0,f=v([].concat(...d.map((e=>e.table.body))),s.Util.flatten(t.map((e=>Array(e.names.length).fill(0).map((()=>e.explainedKind.kind)))))),h={title:a,breadcrumbs:u?void 0:c,header:p,body:f};if(u){const i=new N(r,e,d.map((e=>t[e.idx].explainedKind)),d.map((e=>e.table.resourceVersion)),yield Promise.all(d.map((e=>{const n=t[e.idx];return(0,b.D)(r,n.namespace,l,n.explainedKind)}))),t,n,d.map((e=>e.table.body.map((e=>({rowKey:e.rowKey,isReady:(0,k.o)(e,n)}))))),d.map((e=>$(e.table,n))),!0);return Object.assign(h,{watch:i})}return h}throw new Error("nothing to watch")}))}},56312:(e,t,n)=>{"use strict";n.d(t,{D:()=>u,a:()=>l});var r=n(23450),i=n(50816),o=n(58853),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function a(e){return"v1"===e?"api/v1":`apis/${encodeURIComponent(e)}`}function c(e){const t=e.toLowerCase();return`/${encodeURIComponent((0,r.isPlural)(t)?t:(0,r.plural)(t))}`}function u(e,t,{parsedOptions:n},{kind:r,version:i,isClusterScoped:s}){const u=c(r),l=a(i);t||(console.error('Internal oddity with namespace, falling back on "default", and was given:',t),t="default");const d=(0,o.Dk)(n)||"Namespace"===r||s?"":`/namespaces/${encodeURIComponent(t)}`,p=[],f=(0,o.id)({parsedOptions:n});if(f){const e=e=>p.push(`labelSelector=${encodeURIComponent(e)}`);Array.isArray(f)?f.forEach(e):e(f)}return n["field-selector"]&&"string"==typeof n["field-selector"]&&p.push(`fieldSelector=${encodeURIComponent(n["field-selector"])}`),"number"==typeof n.limit&&p.push(`limit=${n.limit}`),(t=!1,n=!1,r,i)=>{const o=i&&i.version?a(i.version):l,s=i&&i.kind?c(i.kind):u;return`${"oc"===e?"openshift":"kubernetes"}:///${o}${d}${t?s:""}${r?`/${encodeURIComponent(r)}`:""}${n&&0!==p.length?"?"+p.join("&"):""}`}}function l(e,t){return s(this,void 0,void 0,(function*(){return u((0,i.fY)(e),yield(0,o.D_)(e),e,t)}))}},74849:(e,t,n)=>{"use strict";n.d(t,{NC:()=>v,ZP:()=>g});var r=n(11227),i=n.n(r);function o(e,t,n){const{explainedKind:r,names:i}=e,o=r.kind.toLowerCase()===t.toLowerCase(),s=0===i.length,a=i.includes(n);return o&&(a||s)}var s=n(82140),a=n(71065),c=n(45997),u=n(98919),l=n(76299),d=n(25218),p=n(43888),f=n(87500),h=n(58853),m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const y=i()("plugin-kubectl/client/direct/watch");class v extends class{constructor(){this.jobs=[]}xon(){this.jobs.forEach((e=>e.xon()))}xoff(){this.jobs.forEach((e=>e.xoff()))}abort(){y("abort requested",this.jobs.length,this.jobs),this.jobs.forEach((e=>e.abort()))}onExit(e){y("job exited",e)}onReady(){y("job is ready")}}{constructor(e,t,n,r,i,o,s,a,c,u=!0,l=!1){super(),this.drilldownCommand=e,this.args=t,this.kind=n,this.resourceVersion=r,this.formatUrl=i,this.group=o,this.finalState=s,this.nNotReady=c,this.monitorEvents=u,this.needsStatusColumn=l,this.alreadySentHeaders=!1,s&&(this.readyDebouncer=a?a.reduce(((e,{rowKey:t,isReady:n})=>(e[t]=n,e)),{}):void 0)}init(e){return m(this,void 0,void 0,(function*(){this.pusher=e,yield Promise.all([this.initBodyUpdates(),this.monitorEvents&&"Event"!==this.kind?this.initFooterUpdates():Promise.resolve()])}))}isCustomColumns(){return(0,h.LJ)((0,h.QI)(this.args))}initBodyUpdates(){const e=this.formatUrl(!0)+`?watch=true&resourceVersion=${this.resourceVersion.toString()}`,t=this.onInitForBodyUpdates.bind(this);return(0,l.Cg)(this.args,e,this.mgmt(t),this.isCustomColumns()?a.o:a.X)}formatEventUrl(e){const t=`fieldSelector=involvedObject.kind=${this.kind}`;return this.formatUrl(!0,void 0,void 0,{version:"v1",kind:"Event"})+`?${t}`+(e?`&watch=true&resourceVersion=${e.resourceVersion.toString()}`:"")}filterFooterRows(e,t,n){const r=e.rows.filter((e=>{const t=e.cells[n];if("string"==typeof t){const e=t.split("/")[0],n=t.split("/")[1];return o(this.group,e,n)}})),i=this.lastFooterEvents;return this.lastFooterEvents=r.reduce(((e,n)=>(e[n.cells[t]]=!0,e)),{}),i?r.filter((e=>!i[e.cells[t]])):r}formatFooter(e){if(this.footerColumnDefinitions){const{lastSeenColumnIdx:t,objectColumnIdx:n,messageColumnIdx:r,nameColumnIdx:i}=this.footerColumnDefinitions;return this.filterFooterRows(e,i,n).map((e=>{const o=e.cells[t],s=e.cells[n],a=e.cells[r],c=e.cells[i];return`[[${o}]](${`#kuiexec?command=${encodeURIComponent((0,h.QG)(this.args,`kubectl get event ${c} -o yaml`))}`}) **${s}**: ${a}`}))}console.error("Dropping footer update, due to missing column definitions")}initFooterColumnDefinitions(e){const t=e.reduce(((e,t,n)=>("Last Seen"===t.name?e.lastSeenColumnIdx=n:"Object"===t.name?e.objectColumnIdx=n:"Message"===t.name?e.messageColumnIdx=n:"Name"===t.name&&(e.nameColumnIdx=n),e)),{lastSeenColumnIdx:-1,objectColumnIdx:-1,messageColumnIdx:-1,nameColumnIdx:-1}),{lastSeenColumnIdx:n,objectColumnIdx:r,messageColumnIdx:i,nameColumnIdx:o}=t;n<0?console.error("Unable to process footer column definitions, due to missing Last Seen column",e):r<0?console.error("Unable to process footer column definitions, due to missing Object column",e):i<0?console.error("Unable to process footer column definitions, due to missing Message column",e):o<0?console.error("Unable to process footer column definitions, due to missing Name column",e):this.footerColumnDefinitions=t}onEventData(e){!this.footerColumnDefinitions&&e.object.columnDefinitions&&this.initFooterColumnDefinitions(e.object.columnDefinitions),this.pusher.footer(this.formatFooter(e.object))}initFooterUpdates(){return m(this,void 0,void 0,(function*(){const e=(yield(0,l.dc)(this.args,this.formatEventUrl(),{headers:a.X}))[0];if((0,d.iN)(e)){this.onEventData({object:e});const t=this.formatEventUrl({resourceVersion:e.metadata.resourceVersion});return(0,l.Cg)(this.args,t,{onInit:e=>(this.jobs.push(e),this.onEventData.bind(this))},a.X)}console.error("Unexpected response from event query",this.formatEventUrl(),e)}))}mgmt(e){return{onInit:e,onReady:this.onReady.bind(this),onExit:this.onExit.bind(this)}}onInitForBodyUpdates(e){return this.jobs.push(e),this.onData.bind(this)}onData(e){return m(this,void 0,void 0,(function*(){if(!e.object.columnDefinitions&&this.bodyColumnDefinitions&&(e.object.columnDefinitions=this.bodyColumnDefinitions),!e.object.columnDefinitions&&!this.isCustomColumns())return void console.error("Missing column definitions in update",e);const t=(0,h.LJ)((0,h.QI)(this.args));let r=!this.alreadySentHeaders;t||(this.bodyColumnDefinitions||(r=!0,this.bodyColumnDefinitions=e.object.columnDefinitions),e.object.rows=e.object.rows.filter((e=>o(this.group,this.kind,e.object.metadata.name))));const i=t?(yield n.e(2846).then(n.bind(n,92846))).toKuiTableForUpdateFromCustomColumns(e.object,this.args,this.drilldownCommand,this.kind,(0,h.QI)(this.args)):(0,u.hb)(e.object,this.kind,this.args,this.drilldownCommand,this.needsStatusColumn,(0,s.Z)(this.kind,this.args));r&&(this.alreadySentHeaders=!0,this.pusher.header(i.header)),i.body.forEach(((t,n)=>{this.readyDebouncer&&void 0===this.readyDebouncer[t.rowKey]?y("dropping untracked row",t.rowKey):("ADDED"===e.type||"MODIFIED"===e.type?this.pusher.update(t,!0):this.pusher.offline(t.rowKey),"Namespace"===this.kind&&("ADDED"===e.type||"DELETED"===e.type)&&(0,f.xf)("CreateOrDeleteNamespace",t.name),this.checkIfReady(t,n,e))})),this.pusher.batchUpdateDone()}))}checkIfReady(e,t,n){if(this.finalState&&this.nNotReady>0){const r="DELETED"===n.type&&this.finalState===c.d.OfflineLike||("ADDED"===n.type||"MODIFIED"===n.type)&&(0,p.o)(e,this.finalState);y("checking if resource is ready",r,this.finalState,this.nNotReady,e,n.type,n.object.rows[t]),this.readyDebouncer&&r&&!this.readyDebouncer[e.rowKey]&&(y("A resource is in its final state",e.name,this.nNotReady),this.readyDebouncer[e.rowKey]=!0,--this.nNotReady<=0&&(y("All resources are in their final state"),this.abort(),this.pusher.done()))}}}function g(e,t,n,r,i,o,s,a,c,u=!0,l=!1){return m(this,void 0,void 0,(function*(){return i.resourceVersion?Object.assign(i,{watch:new v(e,t,n,i.resourceVersion,o,r,s,a,c,u,l)}):(console.error("Cannot start watching, due to missing resourceVersion"),i)}))}},38780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="github.com/kui-shell/plugin-kubectl/v1alpha1"},82216:(e,t,n)=>{"use strict";n.d(t,{VP:()=>g,ZP:()=>b});var r=n(18495),i=n(72890),o=n(94194),s=n(36156),a=n(50816),c=n(28724),u=n(70764),l=n(58853),d=n(25218),p=n(89525),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const h=(0,r.i18n)("plugin-kubectl"),m=e=>(t,n)=>f(void 0,void 0,void 0,(function*(){if((0,d.Ib)(n)){if((0,p.rJ)(n)){const r=yield(0,c.Ao)(t,n);if("view-last-applied"===e)return Object.assign(r,{defaultMode:p.xJ});{const{content:e,contentType:i}=yield(0,p.kL)(t.tab,n),o=(0,u.bt)((0,a.fY)(t),n.metadata.namespace,t,n,"set-last-applied"),s={mode:p.xJ,label:p.PS,order:p.vm-1,content:e,contentType:i,spec:o};return Object.assign(r,{modes:[s],defaultMode:p.xJ,toolbarText:(0,u.gB)(t,n)})}}{const e=new Error(h("This resource has no last applied configuration"));throw e.code=404,e}}}));function y(e,t){const n=(0,a.fY)(t);if((0,s.lN)(t))return(0,s.t$)("k"===n?"kubectl":n,t);const r=t.argvNoOptions.indexOf(e),i=t.argvNoOptions[r+1]||"",o=t.argvNoOptions[r+2]||"",c=t.parsedOptions.f||t.parsedOptions.filename;return c?t.REPL.qexec(`${n} get -f ${c} ${(0,l.UU)(t)} -o yaml`):t.REPL.qexec(`${n} get ${i} ${o} ${(0,l.UU)(t)} -o yaml`)}function v(e){return Object.assign({},i.i,{viewTransformer:e})}function g(e,t){e.listen(`/${t}/apply/view-last-applied`,y.bind(void 0,"view-last-applied"),v(m("view-last-applied"))),e.listen(`/${t}/apply/edit-last-applied`,y.bind(void 0,"edit-last-applied"),v(m("edit-last-applied"))),e.listen(`/${t}/apply/set-last-applied`,o.fF)}function b(e){g(e,"kubectl"),g(e,"k")}},87500:(e,t,n)=>{"use strict";n.d(t,{xf:()=>l,rI:()=>d,z2:()=>m,ZP:()=>y});var r=n(18495),i=n(72890),o=n(94194),s=n(58853),a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c="/kubectl/config/change",u=["delete-cluster","delete-context","rename-context","set","set-cluster","set-context","set-credentials","unset","use-context"];function l(e,t,n){try{r.Events.eventChannelUnsafe.emit(c,e,t,n)}catch(e){console.error("Error in onKubectlConfigChangeEvent handler",e)}}function d(e){r.Events.eventChannelUnsafe.on(c,e)}function p(e){const t=e.argvNoOptions.indexOf("config"),n=e.argvNoOptions[t+1];("set"===n||"use-context"===n||"set-context"===n&&!e.parsedOptions.current?"NewContext":"set-context"===n||"set-cluster"===n||"set-credentials"===n||"rename-context"===n?"AlteredContext":void 0)&&l("SetNamespaceOrContext",(0,s.wQ)(e),"use-context"===n?e.argvNoOptions[t+2]:void 0)}function f(e){return a(this,void 0,void 0,(function*(){e.command=e.command.replace(/_config/,"config"),e.argvNoOptions[1]="config",e.argv[1]="config";const t=yield(0,o.fF)(e);return p(e),t}))}function h(e,t,n){return a(this,void 0,void 0,(function*(){const e=n.command.replace(/config/,"_config"),t=yield n.REPL.qexec(e);return p(n),t}))}function m(e,t){u.forEach((n=>{e.listen(`/${t}/_config/${n}`,f,Object.assign({},i.Z,{requiresLocal:!0})),e.listen(`/${t}/config/${n}`,h.bind(void 0,t,n),i.Z)}))}const y=e=>{m(e,"kubectl"),m(e,"k")}},347:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCurrentContext:()=>m,getAllContexts:()=>y,getCurrentContextName:()=>v,getCurrentDefaultContextName:()=>x,getCurrentDefaultNamespace:()=>k,default:()=>w});var r=n(11227),i=n.n(r),o=n(72890),s=n(38780),a=n(94194),c=n(36156),u=n(87500),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const d=i()("plugin-kubectl/controller/kubectl/contexts"),p=e=>({command:e,strict:e,docs:"Print your current kubernetes context",example:"kubectl context"}),f=e=>({command:e,strict:e,docs:"List your available kubernetes contexts",optional:[{name:"-o",docs:"Output format",allowed:["wide"]}],example:"kubectl contexts"});function h(e,t){const n=t.attributes.find((t=>t.key===e));return n?n.value:""}function m({REPL:e}){return l(this,void 0,void 0,(function*(){const[t,{content:n}]=yield Promise.all([e.qexec("context"),e.rexec("contexts")]);return n.find((e=>e.metadata.name===t))}))}function y({REPL:e}){return l(this,void 0,void 0,(function*(){return(yield e.rexec("contexts")).content}))}function v({REPL:e}){return l(this,void 0,void 0,(function*(){const t=yield e.qexec("kubectl config current-context");return t?t.trim():t}))}const g={};let b;function x({REPL:e,parsedOptions:t}){return t&&t.context?t.context:b||(b=new Promise((t=>l(this,void 0,void 0,(function*(){const n=yield v({REPL:e}).catch((e=>(404===e.code||/command not found/.test(e.message)||d("error determining default context",e),"")));t(n)})))),b)}function k(e){return l(this,void 0,void 0,(function*(){const t=yield x(e);return g[t]||(g[t]=new Promise((n=>l(this,void 0,void 0,(function*(){const r=`kubectl config view --minify --context ${t} --output "jsonpath={..namespace}"`,i=yield e.REPL.qexec(r).then((e=>{const t="number"==typeof e?e.toString():e;return"string"!=typeof t||0===t.length?(console.error("Suspicious return value for current namespace",t,r),"default"):t})).catch((e=>{404===e.code||/command not found/.test(e.message)||d("error determining default namespace",e),n("default")}));n(i?i.trim():"default")}))))),g[t]}))}(0,u.rI)(((e,t,n)=>l(void 0,void 0,void 0,(function*(){"SetNamespaceOrContext"===e&&(n||(n=yield b),"string"==typeof t&&t.length>0?g[n]=Promise.resolve(t):g[n]=void 0,"string"==typeof n&&n.length>0?b=Promise.resolve(n):b[n]=void 0)}))));const S=e=>l(void 0,void 0,void 0,(function*(){const t=Object.assign({},e.execOptions,{render:!1}),n=yield e.REPL.qexec("kubectl config get-contexts",void 0,void 0,t);return e.execOptions.raw?{mode:"raw",content:n.body.map((t=>({apiVersion:s.Z,kind:"Context",originatingCommand:e,isKubeResource:!0,metadata:{name:h("NAME",t),namespace:h("NAMESPACE",t)},spec:{user:h("AUTHINFO",t),cluster:h("CLUSTER",t),isCurrent:"selected-row"===t.rowCSS||Array.isArray(t.rowCSS)&&t.rowCSS.indexOf("selected-row")>=0}})))}:n})),w=e=>{e.listen("/kubectl/config/get-contexts",(e=>(0,c.lN)(e)?(0,c.t$)("kubectl",e):(0,a.A)(e,void 0,void 0,{entityType:"Context"})),o.Z),e.listen("/context",(({REPL:e})=>l(void 0,void 0,void 0,(function*(){return(yield e.qexec("kubectl config current-context")).trim()}))),Object.assign({usage:p("context")},o.Z)),e.listen("/contexts",S,Object.assign({usage:f("contexts")},o.Z))}},67039:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>$,Dq:()=>O});var r=n(11227),i=n.n(r),o=n(18495),s=n(72890),a=n(58853),c=n(94194),u=n(76299),l=n(42177),d=n(98764),p=n(94073),f=n(56312),h=n(71065),m=n(45997),y=n(50816),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g=i()("plugin-kubectl/controller/client/direct/create");function b(e,t,n){return v(this,void 0,void 0,(function*(){if(!((0,a.$L)(e)||(0,a.id)(e)||e.parsedOptions["dry-run"]||e.parsedOptions["field-selector"])){const r=yield n||(0,l.St)((0,y.fY)(e),e,e.argvNoOptions[e.argvNoOptions.indexOf(t)+1]),{kind:i,version:s}=r,c=yield(0,f.a)(e,r),v=e.argvNoOptions.indexOf("create")+1,b=e.argvNoOptions.slice(v+1);if("create"===t&&"Namespace"===i&&"v1"===s&&b.length>0&&!e.parsedOptions.kubeconfig){const t=b.map((e=>({apiVersion:"v1",kind:"Namespace",metadata:{creationTimestamp:null,name:e},spec:{},status:{}}))),n=b.map(c.bind(void 0,!0,!1,void 0)).map((e=>`${e}?fieldManager=kubectl-create`)).join(",");g("attempting create namespace direct",b,n);const s=yield(0,u.dc)(e,n,{method:"post",headers:h.o,returnErrors:!0,data:t}),{errors:l,okIndices:f,ok:y}=yield(0,p.Z)(s,c,i,e,!0);if(0===y.length){if(l.length>0&&l.every(o.is404or409)){const e=new Error(l.map((e=>e.message)).join("\n"));throw e.code=l[0].code,e}}else{const t=[{names:f.map((e=>b[e])),namespace:yield(0,a.D_)(e),explainedKind:r}],n=yield(0,d.Z)(e,t,m.d.OnlineLike);if(n)return function(e,t){return 0===t.length?e:(0,o.isTable)(e)?[e,...t.map((e=>e.message))]:[...e,...t.map((e=>e.message))]}(n,l)}}}}))}var x=n(36156),k=n(28724),S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const w=i()("plugin-kubectl/controller/kubectl/create"),E=["create","apply"],O=(e,t="kubectl")=>n=>S(void 0,void 0,void 0,(function*(){if((0,x.lN)(n))return(0,x.t$)(t,n);if((0,a.Dz)(n)){const e=yield(0,c.GL)(n,void 0,t);if((0,a.EC)((0,a.QI)(n))&&!(0,c.jH)(n)){return yield(0,k._$)(n,e)}return e.content.stdout}try{const t=yield b(n,e);if(t)return t;w("createDirect falling through to CLI impl")}catch(e){if((0,o.is404or409)(e))throw e;console.error("Error in direct create. Falling back to CLI create.",e.code,e)}return(0,c.rJ)(e,m.d.OnlineLike,t)(n)})),C=Object.assign({},s.Z,{viewTransformer:k.c9}),$=e=>{E.forEach((t=>{const n=O(t);e.listen(`/kubectl/${t}`,n,C),e.listen(`/k/${t}`,n,C)}))}},66167:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w,q:()=>S});var r=n(72890),i=n(94194),o=n(11227),s=n.n(o),a=n(18495),c=n(76299),u=n(42177),l=n(58853),d=n(98764),p=n(94073),f=n(56312),h=n(45997),m=n(50816),y=n(71065),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g=s()("plugin-kubectl/controller/client/direct/delete");var b=n(36156),x=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function k(e){return Object.prototype.hasOwnProperty.call(e.parsedOptions,"wait")?e.command:e.command+" --wait=false"}const S=(e="kubectl")=>t=>x(void 0,void 0,void 0,(function*(){if((0,b.lN)(t))return(0,b.t$)(e,t,k);if((0,i.jH)(t))return(0,i.fF)(t,k);try{const e=yield function(e,t){return v(this,void 0,void 0,(function*(){if(!((0,l.$L)(e)||(0,l.id)(e)||e.parsedOptions["dry-run"]||e.parsedOptions["field-selector"]||e.parsedOptions.kubeconfig)){const n=yield t||(0,u.St)((0,m.fY)(e),e,e.argvNoOptions[e.argvNoOptions.indexOf("delete")+1]),{kind:r}=n,i=yield(0,f.a)(e,n),o={propagationPolicy:"Background"},s=e.argvNoOptions.indexOf("delete")+1,v=e.argvNoOptions.slice(s+1);if(r&&v.length>0){const t=v.map(i.bind(void 0,!0,!1)).join(",");g("attempting delete direct",t);const s=yield(0,c.dc)(e,t,{method:"delete",headers:y.o,returnErrors:!0,data:o}),{errors:u,ok:f}=yield(0,p.Z)(s,i,r,e);if(0!==f.length){const t=[{names:v,namespace:yield(0,l.D_)(e),explainedKind:n}];return(0,d.Z)(e,t,h.d.OfflineLike)}if(u.length>0&&u.every(a.is404))throw g("throwing delete errors from the API",u),new Error(u.map((e=>e.message)).join("\n"))}}}))}(t);if(e)return e}catch(e){if(404===e.code)throw e;console.error("Error in direct delete. Falling back to CLI delete.",e.code,e)}return(0,i.rJ)("delete",h.d.OfflineLike,e,k)(t)})),w=e=>{e.listen("/kubectl/delete",S(),r.Z),e.listen("/k/delete",S(),r.Z)}},76600:(e,t,n)=>{"use strict";n.d(t,{L:()=>l,Z:()=>d});var r=n(94194),i=n(28724),o=n(36156),s=n(50816),a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function c(e){return`${e.command.replace(/(k|kubectl|oc)(\s+)describe(\s+)/,"$1$2get$3")} -o yaml`}const u=e=>function(t){return a(this,void 0,void 0,(function*(){if((0,o.lN)(t))return(0,o.t$)(e,t);if((0,s.HZ)(t))return(0,r.GL)(t,void 0,e);{const n=yield(0,r.GL)(t,c,e);return(0,i._$)(t,n)}}))};function l(e,t,n=t){e.listen(`/${t}/describe`,u(n),i.L6)}const d=e=>{l(e,"kubectl"),l(e,"k","kubectl")}},70764:(e,t,n)=>{"use strict";n.d(t,{jK:()=>h,bt:()=>y,gB:()=>b,z2:()=>k,ZP:()=>S});var r=n(18495),i=n(72890),o=n(94194),s=n(28724),a=n(36156),c=n(58853),u=n(25218),l=n(62892),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const p=(0,r.i18n)("plugin-kubectl"),f=(0,r.i18n)("plugin-client-common","editor");function h(e){const t=e.modes.find((e=>(0,r.isStringWithOptionalContentType)(e)&&e.spec));return t&&(0,r.isStringWithOptionalContentType)(t)&&"object"==typeof t.spec&&"boolean"==typeof t.spec.readOnly&&"boolean"==typeof t.spec.clearable&&"object"==typeof t.spec.save&&"object"==typeof t.spec.revert}function m(e,t,n){console.error("error in apply for edit",n);const r=n.message.match(/ValidationError\(.*\): ([^]+) in/);if(r&&2===r.length){const e=n.message.match(/unknown field "(.*)"/),i=new Error(r[1]);if(e){const n=new RegExp(`${e[1]}:`),r=t.split(/\n/).findIndex((e=>n.test(e)));r>=0&&(i.revealLine=r+1)}throw i}{const t=n.message.match(/error parsing.*(line .*)/);if(t&&2===t.length){const e=n.message.match(/line (\d+):/),r=new Error(t[1]);throw e&&(r.revealLine=parseInt(e[1])-1),r}{if(-1!==n.message.indexOf("Error from server (Conflict)")){const t=`for: "${e}":`,r=n.message.indexOf(t),i=n.message.substring(r).replace(t,"");throw new Error(i)}const t=n.message.replace(e,"").split("\n");throw":"===t[0].charAt(t[0].length-2)?new Error(t.slice(0,2).join("\n")):new Error(t[0])}}}function y(e,t,n,r,i=""){return{readOnly:!1,clearable:!1,save:{label:p("Apply Changes"),onSave:r=>d(this,void 0,void 0,(function*(){const s=(yield n.REPL.rexec("fwriteTemp",{data:r})).content,a=["k"===e?"kubectl":e,"apply",i,"-n",t,"-f",s].filter((e=>e)),c=Object.assign({},n,{command:a.join(" "),argv:a,argvNoOptions:[e,"apply",i].filter((e=>e)),parsedOptions:{n:t,f:s}});return yield(0,o.d1)(c,void 0,e).catch(m.bind(void 0,s,r)),{command:n.command,noToolbarUpdate:!0}}))},revert:{onRevert:()=>r.kuiRawData}}}function v(e,t,n="edit",r=f("Edit"),i,o){return{mode:n,label:r,order:i,priority:o,spec:e,contentType:"yaml",content:t.kuiRawData}}function g(e,t){return d(this,void 0,void 0,(function*(){if((0,a.lN)(t))return(0,a.t$)(e,t);const n=t.argvNoOptions.indexOf("edit"),r=t.argvNoOptions[n+1]||"",i=t.argvNoOptions[n+2]||"",o=yield(0,c.D_)(t),s=`${e} get ${r} ${i} -n ${o} -o yaml`,l=yield t.REPL.qexec(s),d=(0,u.oe)(l)?l.items[0].kind:l.kind,f=(0,u.oe)(l)?l.items[0].metadata:l.metadata,h=(0,u.oe)(l)&&1!==l.items.length?p("nItems",l.items.length):f.name,m=f.namespace,g=y(e,m,t,l);if((0,u.oe)(l)){return{apiVersion:"kui-shell/v1",kind:d,metadata:{name:h,namespace:m},spec:g,modes:[v(g,l)]}}return l}))}function b(e,t){const n={type:"info",text:f("isUpToDate")};return function(e){const t=e;return t&&t.data&&void 0!==t.data.partOfApply}(e.execOptions)?Object.assign(n,{alerts:[{type:"success",title:p("Successfully Applied")}]}):t.toolbarText}function x(e,t,n){return d(this,void 0,void 0,(function*(){if(!(0,u.oe)(n)&&(0,u.Ib)(n))return r=l.xJ,i=yield function(e,t,n){return d(this,void 0,void 0,(function*(){const r=y(e,n.metadata.namespace,t,n),i=yield(0,s.Ao)(t,n);return Object.assign({},i,{modes:[v(r,n,l.xJ,l.PS,l.vm,100)],toolbarText:b(t,n)})}))}(e,t,n),Object.assign(i,{defaultMode:r});var r,i}))}function k(e,t){e.listen(`/${t}/edit`,g.bind(void 0,t),(e=>Object.assign({},i.Z,{viewTransformer:x.bind(void 0,e)}))(t))}function S(e){k(e,"kubectl"),k(e,"k")}},94194:(e,t,n)=>{"use strict";n.d(t,{W5:()=>c,ir:()=>l,d1:()=>d,jH:()=>p,fF:()=>f,GL:()=>m,A:()=>y,rJ:()=>v,I$:()=>g});var r=n(18495),i=n(43888),o=n(98919),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=(0,r.i18n)("plugin-kubectl"),c=e=>e.command;function u(e,t){return t.argvNoOptions.slice(t.argvNoOptions.indexOf(e)+1)}function l(e,t=c,n="kubectl"){return s(this,void 0,void 0,(function*(){const r=`_${n}$1`,i=t(e).replace(new RegExp(`^${n}(\\s)?`),r).replace(/^k(\s)?/,r),o=new RegExp(`_${n}(\\s)?`).test(i)?i:`_${n} ${i}`;return e.REPL.qexec(o,void 0,void 0,e.execOptions).catch((e=>{throw 500!==e.code&&500!==e.statusCode||(e.code=e.statusCode=500),e}))}))}function d(e,t=c,n){return l(e,t,n).then((e=>e.content.stdout))}function p({argvNoOptions:e,parsedOptions:t}){const n=e=>/(\$\(|`)/.test(e);return!!e.find((e=>/^\s*(\|\||\||>|>>)\s*$/.test(e)||n(e)))||!!Object.values(t).find(n)}function f(e,t=c,n){return s(this,void 0,void 0,(function*(){if(!p(e)&&(r.Capabilities.isHeadless()||!r.Capabilities.inBrowser()&&e.execOptions.raw))return d(e,t,n);{const t=e.command.replace(/^k(\s)/,"kubectl$1");return e.execOptions.onInit&&(e.execOptions.quiet=!0,e.execOptions.replSilence=!0,e.execOptions.echo=!1),e.execOptions.noCoreRedirect=!0,e.REPL.qexec(`sendtopty ${t}`,e.block,void 0,e.execOptions.onInit?e.execOptions:Object.assign({},e.execOptions,{rawResponse:!0,quiet:void 0===e.execOptions.quiet?e.execOptions.type!==r.ExecType.TopLevel&&void 0:e.execOptions.quiet})).catch((e=>{throw 500!==e.code&&500!==e.statusCode||(e.code=e.statusCode=500),e}))}}))}function h(e,t=c){return s(this,void 0,void 0,(function*(){return new Promise(((n,r)=>s(this,void 0,void 0,(function*(){let i="";const o=Object.assign({},e.execOptions,{rethrowErrors:!0,quiet:!0,replSilence:!0,echo:!1,onInit:()=>e=>{"string"==typeof e&&(i+=e)}}),s=Object.assign({},e,{execOptions:o});yield f(s,t).catch((e=>{console.error(e),r(e)})),n(i)}))))}))}function m(e,t=c,n="kubectl"){return s(this,void 0,void 0,(function*(){return p(e)?Promise.resolve({content:{code:0,stdout:yield f(e,t),stderr:void 0,wasSentToPty:!0}}):l(e,t,n)}))}function y(e,t=c,n="kubectl",{usePty:r=!1,nameColumn:i,verb:u,entityType:d}={}){return s(this,void 0,void 0,(function*(){const s=r?{content:{stdout:yield h(e,t),stderr:void 0}}:yield l(e,t,n),c=yield(0,o.rW)(s.content.stdout,s.content.stderr,e,n,u,d,i);if("string"==typeof c)throw new Error(a("Unable to parse table"));return c}))}const v=(e,t,n="kubectl",o=c,a=u)=>c=>s(void 0,void 0,void 0,(function*(){const s=yield m(c,o,n);if(0!==s.content.code){const e=new Error(s.content.stderr);throw e.code=s.content.code,e}if(r.Capabilities.isHeadless())return s.content.stdout;{const r=yield a(e,c),o=s?s.content.stdout:"";return(0,i.$)(c,e,n,o,t,r)}}));function g(e,t,n,{title:r=(0===e.length?void 0:e[0].kind),nameColumnTitle:i="NAME"}={}){return s(this,void 0,void 0,(function*(){if(e.length>0)return{apiVersion:"kui-shell/v1",kind:"RadioTable",title:r,defaultSelectedIdx:t,header:{cells:[i]},body:e.map((e=>{const t=e.metadata.name;return{nameIdx:0,cells:[t],onSelect:n(t,e)}}))}}))}},42177:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>A,ZK:()=>T,St:()=>P});var r=n(18495),i=n(72890),o=n(88363),s=n(94194),a=n(36156),c=n(58853);const u={kind:"Pod",version:"v1",isClusterScoped:!1},l={kind:"Secret",version:"v1",isClusterScoped:!1},d={kind:"Namespace",version:"v1",isClusterScoped:!0},p={kind:"Node",version:"v1",isClusterScoped:!0},f={kind:"PersistentVolume",version:"v1",isClusterScoped:!0},h={kind:"ControllerRevision",version:"apps/v1",isClusterScoped:!1},m={kind:"DaemonSet",version:"apps/v1",isClusterScoped:!1},y={kind:"ReplicaSet",version:"apps/v1",isClusterScoped:!1},v={kind:"StatefulSet",version:"apps/v1",isClusterScoped:!1},g={kind:"Deployment",version:"apps/v1",isClusterScoped:!1},b={kind:"Service",version:"v1",isClusterScoped:!1},x={kind:"Event",version:"v1",isClusterScoped:!1},k={po:u,pod:u,pods:u,Pod:u,Pods:u,secret:l,secrets:l,Secret:l,Secrets:l,ns:d,namespace:d,namespaces:d,Namespace:d,Namespaces:d,svc:b,service:b,services:b,Service:b,Services:b,controllerrevision:h,controllerrevisions:h,ControllerRevision:h,"ControllerRevision.v1.apps":h,ControllerRevisions:h,ds:m,daemonset:m,daemonsets:m,DaemonSet:m,"DaemonSet.v1.apps":m,DaemonSets:m,rs:y,replicaset:y,replicasets:y,ReplicaSet:y,"ReplicaSet.v1.apps":y,ReplicaSets:y,sts:v,statefulset:v,statefulsets:v,StatefulSet:v,"StatefulSet.v1.apps":v,StatefulSets:v,deploy:g,deployment:g,deployments:g,Deployment:g,"Deployment.v1.apps":g,Deployments:g,no:p,node:p,nodes:p,Node:p,Nodes:p,ev:x,event:x,events:x,Event:x,Events:x,pv:f,persistentvolume:f,persistentvolumes:f,Persistentvolume:f,Persistentvolumes:f};var S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const w=(0,r.i18n)("plugin-kubectl");function E(e,t){return{mode:t[1],contentType:"text/markdown",content:`### Type\n${t[2]}\n### Documentation\n${n=t[4],n.replace(/\n/g," ").replace(/(More info:\s+)?(https:\/\/.*)/,((e,t,n)=>`\n\n[Consult official Kubernetes documentation](${function(e){return/api-conventions/.test(e)&&!/sig-architecture/.test(e)?e.replace(/api-conventions/,"sig-architecture/api-conventions"):e}(n)})`))}\n\n[Explain this field](#kuiexec?command=${encodeURIComponent(e+"."+t[1])})\n`};var n}const O=/^KIND:\s+(\S+)\nVERSION:\s+(\S+)(\n\nRESOURCE:\s+(\S+).*)?\n\nDESCRIPTION:\n(\s*DEPRECATED - )?([\s\S]+)/,C=/^KIND:\s+(\S+)\nVERSION:\s+(\S+)(\n\nRESOURCE:\s+(\S+).*)?\n\nDESCRIPTION:\n(\s*DEPRECATED - )?([\s\S]+)\n\nFIELDS:\n([\s\S]+)/,$=/^KIND:\s+(\S+)\nVERSION:\s+(\S+)\n\nFIELD:\s+(\S+)\s+(.*)\n\nDESCRIPTION:\n(\s*DEPRECATED - )?([\s\S]+)/,N=(e="kubectl")=>function(t){return S(this,void 0,void 0,(function*(){if((0,a.lN)(t))return(0,a.t$)(e,t);const n=yield(0,s.d1)(t,void 0,e);try{const e=n.match(C)||n.match(O),r=!e&&n.match($);if(e||r){const n=e?e[1]:r[1],i=e?e[2]:r[2],o=e&&e[4],s=r&&r[3],a=r&&r[4],c=e?e[5]:r[5],u=e?e[6]:r[6],l=e&&e[7],d=l?l.split(/\n\n/).filter((e=>e)).map((e=>e.match(/\s*(\S+)\s+<(\S+)>( -required-)?\n\s*([\s\S]*)/))).filter((e=>e)):[],p=d.filter((e=>e[3])),f=d.filter((e=>!e[3])),h={label:"API Resources",command:"kubectl api-resources"},m=i?i.match(/^([^/]+)\//):void 0,y=m?[{label:m[1],command:`kubectl api-resources --api-group ${m[1]}`}]:[],v=o?[{label:o}]:[],g=r?[{label:s}]:[],b=E.bind(void 0,t.command);return{apiVersion:"kui-shell/v1",kind:"NavResponse",breadcrumbs:[h].concat(y).concat([{label:n,command:o||s?`kubectl explain ${n}`:""}]).concat(v).concat(g),menus:[{label:o||n,items:[{mode:"Overview",contentType:"text/markdown",content:`### Description\n#### ${u.replace(/\n/g," ")}\n${r?`### Type\n${a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")}`:""}\n### Version\n${i}\n${c?`### Warnings\n${w("This API Resource is deprecated")}`:""}\n    `}]}].concat(0===p.length?[]:[{label:"Required Fields",items:p.map(b)}]).concat(0===f.length?[]:[{label:"Fields",items:f.map(b)}])}}}catch(e){console.error("error parsing explaing",e)}return n}))},I={},R={cs:!0,"ComponentStatus.v1":!0,componentstatus:!0,componentstatuses:!0,ns:!0,namespace:!0,"Namespace.v1":!0,namespaces:!0,no:!0,"Node.v1":!0,node:!0,nodes:!0,pv:!0,"PersistentVolume.v1":!0,persistentvolume:!0,persistentvolumes:!0,crd:!0,crds:!0,"CustomResourceDefinition.apiextensions.k8s.io/v1":!0,"customresourcedefinitions.apiextensions.k8s.io":!0,csr:!0,"CertificateSigningRequest.certificates.k8s.io/v1":!0,"certificatesigningrequests.certificates.k8s.io":!0,psp:!0,"PodSecurityPolicy.policy/v1":!0,"podsecuritypolicies.policy":!0,pc:!0,"PriorityClass.scheduling.k8s.io/v1":!0,"priorityclasses.scheduling.k8s.io":!0,sc:!0,"StorageClass.storage.k8s.io/v1":!0,"storageclasses.storage.k8s.io":!0,"MutatingWebhookConfiguration.admissionregistration.k8s.io/v1":!0,"mutatingwebhookconfigurations.admissionregistration.k8s.io":!0,"ValidatingWebhookConfiguration.admissionregistration.k8s.io/v1":!0,"validatingwebhookconfigurations.admissionregistration.k8s.io":!0,"APIService.apiregistration.k8s.io/v1":!0,"apiservices.apiregistration.k8s.io":!0,"TokenReview.authentication.k8s.io/v1":!0,"tokenreviews.authentication.k8s.io":!0,"SelfSubjectAccessReview.authorization.k8s.io/v1":!0,"selfsubjectaccessreviews.authorization.k8s.io":!0,"SelfSubjectRulesReview.authorization.k8s.io/v1":!0,"selfsubjectrulesreviews.authorization.k8s.io":!0,"SubjectAccessReview.authorization.k8s.io/v1":!0,"subjectaccessreviews.authorization.k8s.io":!0,"Node.metrics.k8s.io/v1":!0,"nodes.metrics.k8s.io":!0,"ClusterRoleBinding.rbac.authorization.k8s.io/v1":!0,"clusterrolebindings.rbac.authorization.k8s.io":!0,"ClusterRole.rbac.authorization.k8s.io/v1":!0,"clusterroles.rbac.authorization.k8s.io":!0,"ClusterRbacConfig.rbac.istio.io/v1":!0,"clusterrbacconfigs.rbac.istio.io":!0,"CSIDriver.storage.k8s.io/v1":!0,"csidrivers.storage.k8s.io":!0,"CSINode.storage.k8s.io/v1":!0,"csinodes.storage.k8s.io":!0,"VolumeAttachment.storage.k8s.io/v1":!0,"volumeattachments.storage.k8s.io":!0};function P(e,t,n){if(n){const r=k[n];return r?Promise.resolve(r):(I[n]||(I[n]=function(e,t,n){return S(this,void 0,void 0,(function*(){try{const{kind:r,group:i,version:a}=(0,o.Vl)(n),u=(0,o.Bm)(a,i),l=Object.assign({},t,{command:(0,c.QG)(t,`${e} explain ${r}${u?` --api-version=${u}`:""}`)}),d=(yield(0,s.d1)(l,void 0,e)).match(/^KIND:\s+(.*)\nVERSION:\s+(.*)/);if(d){const e=d[1],t=d[2];return{kind:e,version:t,isClusterScoped:R[`${e}.${t}`]||!1}}return{kind:n,version:"v1",isClusterScoped:R[n]||!1}}catch(e){if(/does not exist/i.test(e.message)||/couldn't find resource/i.test(e.message)||/resource type/i.test(e.message))return{kind:"",version:"",isClusterScoped:void 0};throw console.error(`error explaining kind ${n}`,t,e),e}}))}(e,t,n)),I[n])}}function T(e,t,n){return S(this,void 0,void 0,(function*(){return(yield P(e,t,n)).kind}))}const A=e=>{const t=N();e.listen("/kubectl/explain",t,i.Z),e.listen("/k/explain",t,i.Z)}},72890:(e,t,n)=>{"use strict";n.d(t,{i:()=>i,Z:()=>o});const r=["w","watch","watch-only","A","all-namespaces","ignore-not-found","no-headers","i","it","ti","stdin","t","tty","R","recursive","server-print","show-kind","show-labels"];function i(e=[]){return{flags:{configuration:{"short-option-groups":!1},narg:{w:0,watch:0,"watch-only":0},string:["_"],array:["f","file"],boolean:e.concat(r)},noCoreRedirect:!0}}const o=i()},88363:(e,t,n)=>{"use strict";function r(e){const[t,n]=e.split("/");return n?{group:t,version:n}:{group:"",version:""}}function i(e){const[t,n,...r]=e.split(/\./);return{kind:t,group:r.join("."),version:n}}function o(e,t){return e&&t?`${t}/${e}`:t?"":e}function s(e,t){return`${t}${function(e){const{group:t,version:n}=r(e);return t.length>0?`.${n}.${t}`:""}(e)}`}function a(e){return s(e.apiVersion,e.kind)}function c(e){return`${a(e)} -n ${e.metadata.namespace}`}function u(e,t,n,r){return"Namespace"===t&&"v1"===e?`${t} ${n}`:`${s(e,t)} ${"<none>"===r?"":`-n ${r}`} ${n}`}function l(e){return u(e.apiVersion,e.kind,e.metadata.name,e.metadata.namespace)}function d({group:e,version:t,kind:n,name:r,namespace:i}){return`${n}${e?`.${t}.${e}`:""} ${"<none>"===i?"":`-n ${i}`} ${r}`}n.d(t,{cR:()=>r,Vl:()=>i,Bm:()=>o,M5:()=>s,H1:()=>a,v6:()=>c,kJ:()=>u,uE:()=>l,UD:()=>d})},28724:(e,t,n)=>{"use strict";n.d(t,{Bm:()=>b,_$:()=>x,Ao:()=>w,gc:()=>E,c9:()=>O,L6:()=>C,Yn:()=>$,ZP:()=>N});var r=n(18495),i=n(72890),o=n(94194),s=n(64082),a=n(92964),c=n(88363),u=n(42177),l=n(50816),d=n(36156),p=n(58853),f=n(98919),h=n(25218),m=n(76973),y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const v=(0,r.i18n)("plugin-kubectl");function g(e){const t=e.command.indexOf(" get ")+" get ".length,n=e.command.slice(0,t-1),r=e.command.slice(t-1);return n+["-w=true","--watch=true","--watch-only=true","-w","--watch","--watch-only"].reduce(((e,t)=>e.replace(new RegExp(`(\\s)${t}`),"$1")),r)}function b(e,t,n,r="get",i){return y(this,void 0,void 0,(function*(){const{content:{stderr:o,stdout:s}}=n,a=i||t.argvNoOptions[t.argvNoOptions.indexOf(r)+1],c=yield(0,f.rW)(s,o,t,e,r,a);return(0,f.jU)(c)}))}function x(e,t){return y(this,void 0,void 0,(function*(){try{const r=t.content.stdout,{load:i,dump:o}=yield n.e(8163).then(n.bind(n,78163)),s="json"===(0,p.QI)(e)?JSON.parse(r):yield i(r),a=Object.assign(s,{isKubeResource:!0,originatingCommand:e,kuiRawData:r});if((0,h.oe)(a)){if(!(a.items.length>0))return t;yield Promise.all(a.items.map((t=>y(this,void 0,void 0,(function*(){return Object.assign(t,{isKubeResource:!0,originatingCommand:e,kuiRawData:yield o(t)})})))))}return a}catch(e){throw console.error("error handling entity response; raw=",t.content.stdout),e}}))}function k(e){return new Date(e.metadata.creationTimestamp).toLocaleString()}function S(e){const t="info",n=void 0!==e.metadata.creationTimestamp,r=(0,h.pL)(e);return n&&r?{type:t,text:v("createdOn=X resourceVersion=Y",k(e),e.metadata.resourceVersion)}:n?{type:t,text:v("createdOn",k(e))}:r?{type:t,text:v("resourceVersion=Y",k(e),e.metadata.resourceVersion)}:void 0}function w(e,t){return y(this,void 0,void 0,(function*(){try{const{name:r,nameHash:i,version:o}=(0,a.Z)(t);if((0,h.oe)(t))return{apiVersion:t.apiVersion,kind:t.kind,metadata:{name:e.command,namespace:yield(0,p.D_)(e)},isSimulacrum:!0,originatingCommand:e,isKubeResource:!0,modes:[],kuiRawData:t.kuiRawData};const s=()=>y(this,void 0,void 0,(function*(){if((0,p.qy)(e)){const{load:r,dump:i}=yield n.e(8163).then(n.bind(n,78163)),[o,s]=yield Promise.all([r(t.kuiRawData),r(e.execOptions.data.diff)]),[a,c]=yield Promise.all([i(o),i(s)]);return{mode:"diff",label:v("sidecarLabelNewDiff"),content:{a:(0,l.p2)(a),b:(0,l.p2)(c)},contentType:"yaml"}}}));return Object.assign(t,{prettyName:r,nameHash:i,version:o,comparator:h.Yy,isKubeResource:!0,toolbarText:S(t),onclick:{kind:`kubectl get ${(0,c.v6)(t)}`,name:`kubectl get ${(0,c.v6)(t)} ${t.metadata.name}`,namespace:t.metadata.namespace?`kubectl get ns ${t.metadata.namespace} -o yaml`:void 0},defaultMode:p.qy&&"diff",modes:[yield s()].filter((e=>e)),kuiRawData:t.kuiRawData})}catch(e){throw console.error("error handling entity response",t),e}}))}const E=e=>function(t){return y(this,void 0,void 0,(function*(){if((0,d.lN)(t))return(0,d.t$)(e,t,g);const n=(0,p.cV)(t),i=n&&!(0,p.zU)(t)?(0,u.St)(e,t,t.argvNoOptions[t.argvNoOptions.indexOf("get")+1]):void 0;if(!r.Capabilities.isHeadless()&&(0,p.CC)(t)&&(/jsonpath|go-template/.test((0,p.QI)(t))||t.parsedOptions.context||t.parsedOptions.kubeconfig)&&!/^k(ubectl)?\s+-/.test(t.command)){const e=(0,p.QI)(t);return i&&"Event"===(yield i).kind&&"wide"!==e?((e,t)=>{if(t){const n=e.command.replace(`${e.parsedOptions.o?"-o":"--output"} ${t}`,"-o wide");return e.REPL.qexec(n)}{const t=`${e.command} -o wide`;return e.REPL.qexec(t)}})(t,e):(0,s.Z)(t)}if(t.parsedOptions.limit){t.command=t.command.replace(/--limit \d+/g,"");const e=t.argv.indexOf("--limit");e>=0&&t.argv.splice(e,2),t.execOptions.data||(t.execOptions.data={limit:t.parsedOptions.limit})}const a=yield function(e,t,n=((0,p.zU)(e)?void 0:(0,u.St)(t,e,e.argvNoOptions[e.argvNoOptions.indexOf("get")+1]))){return y(this,void 0,void 0,(function*(){const r="k"===t?"kubectl":t,i="all"===e.argvNoOptions[e.argvNoOptions.indexOf("get")+1],s=yield n,a=i||!(0,p.zU)(e)&&!(s&&s.kind);if(!("oc"!==r&&"kubectl"!==r||e.argvNoOptions.includes("|")||e.argvNoOptions.includes(">")||e.argvNoOptions.includes(">>")||a||e.parsedOptions.kubeconfig))try{const t=yield(0,m.ZP)(e,n);if(t)return t}catch(e){if(500!==e.code&&void 0!==e.code&&!/page not found/.test(e.message))throw e;console.error("unexpected apiServer error, intentionally fallback to kubectl CLI",e)}return(0,o.GL)(e,g,r).catch((e=>{throw delete e.statusCode,e.message=e.message.trim(),e}))}))}(t,e,i);if((0,f.Lk)(a))return a;if(0===a.content.code||n||0!==a.content.stdout.length)return a.content.wasSentToPty?a.content.stdout:(0,p.IY)(t)?x(t,a):n?b(e,t,a,void 0,(yield i).kind):function(e,t){return t.content.stdout.trim()}(0,a);{const e=new Error(a.content.stderr);throw e.code=a.content.code,e}}))};function O(e,t){return y(this,void 0,void 0,(function*(){if((0,h.Ib)(t))return w(e,t);if("string"==typeof t&&"name"===(0,p.QI)(e)){const{version:n,kind:i}=yield(0,u.St)((0,l.fY)(e),e,e.argvNoOptions[e.argvNoOptions.indexOf("get")+1]);return{style:r.TableStyle.Light,defaultPresentation:"grid",allowedPresentations:["grid"],body:t.split(/\n/).map((t=>({name:t,onclick:(0,p.QG)(e,`kubectl get ${(0,c.M5)(n,i)} ${t} -o yaml`)})))}}}))}const C=Object.assign({},i.Z,{viewTransformer:function(e,t){return!(0,h.Ib)(t)&&(0,p.qy)(e)&&"string"==typeof e.execOptions.data.diff?function(e){const t=e.argvNoOptions[e.argvNoOptions.indexOf("get")+1],n={mode:"diff",label:v("sidecarLabelNewDiff"),content:e.execOptions.data.diff,contentType:"yaml"};return{apiVersion:"kui-shell/v1",kind:t,metadata:{name:(0,p.vI)(t,e),namespace:(0,p.wQ)(e)},toolbarText:{type:"info",text:v("drilldownNewDiff")},modes:[n]}}(e):O(e,t)},noCoreRedirect:!0});function $(e,t,n=t){e.listen(`/${t}/get`,E(n),C)}const N=e=>{$(e,"kubectl"),$(e,"k","kubectl")}},58853:(e,t,n)=>{"use strict";n.d(t,{zU:()=>c,Wb:()=>u,tX:()=>l,W2:()=>d,$L:()=>p,QI:()=>f,EC:()=>h,IY:()=>m,LJ:()=>y,kr:()=>v,$:()=>g,cV:()=>b,CC:()=>x,nf:()=>k,id:()=>S,xT:()=>w,kb:()=>E,wQ:()=>O,D_:()=>C,UU:()=>$,vI:()=>N,ZO:()=>I,zr:()=>R,Dk:()=>P,QG:()=>T,wU:()=>A,Dz:()=>L,qy:()=>D});var r=n(18495),i=n(347),o=n(50816),s=n(48764).Buffer,a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function c(e){const t=e.parsedOptions.f||e.parsedOptions.filename;return"string"==typeof t||Array.isArray(t)?t:void 0}function u(e){return{filepath:c(e),isFor:e.parsedOptions.f?"f":"filename"}}function l(e){return e.parsedOptions.k||e.parsedOptions.kustomize}function d(e,t=!1){const n=c(e);if(n)return`-f ${n}${t?" ":""}`;{const n=l(e);if(n)return`-k ${n}${t?" ":""}`}return""}function p(e){const t=c(e);if(t)return t;{const t=l(e);if(t)return t}}function f({parsedOptions:e}){return e.o||e.output}function h(e){return"yaml"===e||"json"===e}function m(e){return h(f(e))}function y(e){return/^custom-columns=/.test(e)}function v(e){return e.parsedOptions.help||e.parsedOptions.h}function g(e){return v(e)||"help"===e.argvNoOptions[1]||"options"===e.argvNoOptions[1]}function b(e){return!(t=f(e))||"wide"===t||y(t)||/^custom-columns-file=/.test(t);var t}function x(e){return!!(e.parsedOptions.w||e.parsedOptions.watch||e.parsedOptions["watch-only"])}function k(e,t=!1){return t?"--watch":e.parsedOptions.w?"-w":e.parsedOptions.watch?"--watch":e.parsedOptions["watch-only"]?"--watch-only":""}function S({parsedOptions:e}){const t=e.l||e.label;if(t)return t;{let t;for(const n in e)if(/^l.+/.test(n)&&"limit"!==n){const r=e[n];r&&(t=`${n.slice(1)}=${r}`)}return t}}function w(e){const t=S(e);return t?`-l ${t}`:""}function E(e){if(e.parsedOptions.l||e.parsedOptions.label)return!0;for(const t in e.parsedOptions)if(/^l/.test(t))return!0;return!1}function O(e){const t=e.parsedOptions.n||e.parsedOptions.namespace;return Array.isArray(t)?t[t.length-1]:t}function C(e){return a(this,void 0,void 0,(function*(){return O(e)||(yield(0,i.getCurrentDefaultNamespace)(e))}))}function $(e){const t=O(e);return t?`-n ${t}`:""}function N(e,t){return t.argvNoOptions.slice(t.argvNoOptions.indexOf(e)+1)}function I(e,t){const n=e.parsedOptions.c||e.parsedOptions.container;if(n)return n;{const n=e.argvNoOptions.indexOf(t);return e.argvNoOptions[n+2]}}function R(e){const t=function(e){return e.parsedOptions.context}(e);return t?`--context ${t}`:""}function P(e){return e.A||e["all-namespaces"]}function T(e,t){let n=" ";e.parsedOptions.kubeconfig&&!/--kubeconfig/.test(t)&&(n+=` --kubeconfig ${r.Util.expandHomeDir(e.parsedOptions.kubeconfig)}`),e.parsedOptions.context&&!/--context/.test(t)&&(n+=` --context ${e.parsedOptions.context}`),e.parsedOptions.cluster&&!/--cluster/.test(t)&&(n+=` --cluster ${e.parsedOptions.cluster}`),/\s(-n|--namespace)/.test(t)||/(get|apply|create|delete|explain)\s+(ns|namespace|namespaces|Namespace|Namespaces)\b/.test(t)||(n+=` ${$(e)} `);const i=t.indexOf(" -- ");return i<0?t+n:t.slice(0,i)+n+t.slice(i)}function A(e,t){return n=e.execOptions.data,s.isBuffer(n)||"object"!=typeof n||"string"!=typeof n.kubectlPrefix?T(e,`${(0,o.fY)(e)} ${t}`):T(e,`${e.execOptions.data.kubectlPrefix} ${t}`);var n}function L(e){const t=e.parsedOptions["dry-run"];return"boolean"==typeof t||"client"===t||"server"===t}function D(e){return e.execOptions.data&&e.execOptions.data.diff}},72400:(e,t,n)=>{"use strict";n.d(t,{g8:()=>f,ZP:()=>h});var r=n(11227),i=n.n(r),o=n(47689),s=n(18495),a=n(72890),c=n(186),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const l=i()("plugin-kubeui/controller/kubectl/raw");function d(e,t){const n=e.argv.indexOf(1===t.length?`-${t}`:`--${t}`);if(n>=0){const t=e.argv[n+1];t&&(e.argv[n+1]=s.Util.expandHomeDir(t))}}const p=e=>new Promise(((t,n)=>{const r=Object.assign({},s.Capabilities.inBrowser()?{}:c.env,e.execOptions.env);delete r.DEBUG,function(e,t){d(e,"cache-dir"),d(e,"certificate-authority"),d(e,"client-key"),d(e,"client-certificate"),d(e,"kubeconfig"),d(e,e.parsedOptions.f?"f":"filename"),d(e,e.parsedOptions.k?"k":"kustomize"),t.HOME&&(t.HOME=s.Util.expandHomeDir(t.HOME))}(e,r);const i=e.argv[0].replace(/^_/,""),a=(0,o.spawn)(i,e.argv.slice(1),{env:r});a.on("error",(e=>{console.error(`error spawning ${i}`,e),n(e)}));let p="";a.stdout.on("data",(e=>{p+=e.toString()}));let f="";a.stderr.on("data",(e=>{f+=e.toString()})),a.on("close",(r=>u(void 0,void 0,void 0,(function*(){(f.length>0||0!==r)&&(l("exec has stderr with code %s",r),l("exec stderr command",e.command),l("exec stdeout",p),l("exec stderr",f));const i=/no resources found/i.test(f);if(0!==p.length||0===r&&!i)t({content:{code:r,stdout:p,stderr:f,wasSentToPty:!1}});else{const t=f,o=/error: the path/.test(t),s=i||/not found/i.test(t)||/doesn't have/i.test(t)||/couldn't find/.test(t)?404:/already exists/i.test(t)?409:o?412:500;if(e.execOptions.failWithUsage)n(new Error(void 0));else{const e=new Error(t);e.statusCode=r,e.code=s,n(e)}}}))))}));function f(e){return u(this,void 0,void 0,(function*(){let t=1e3;const n=n=>{if(/TLS handshake timeout/.test(n.message))return l(`retrying after handshake timeout with delay=${t}`),console.error(n),new Promise(((n,r)=>{setTimeout((()=>p(e).then(n,r)),t),t+=1e3}));throw n};return p(e).catch(n).catch(n).catch(n).catch(n).catch(n)}))}const h=e=>u(void 0,void 0,void 0,(function*(){e.listen("/_kubectl",f,Object.assign({},a.Z,{requiresLocal:!0}))}))},83923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p,d:()=>d});var r=n(72890),i=n(94194),o=n(45997),s=n(36156),a=n(50816),c=n(58853);var u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function l(e,t){return u(this,void 0,void 0,(function*(){const{major:n,minor:r}=yield this;return[1===n&&r<16?"deployment":"pod",t.argvNoOptions[t.argvNoOptions.indexOf(e)+1]]}))}const d=(e="kubectl")=>t=>{if((0,s.lN)(t))return(0,s.t$)(e,t);{const n=function(e){return e.REPL.qexec((0,c.QG)(e,`${(0,a.fY)(e)} version -o json`)).then((e=>"string"==typeof e?JSON.parse(e):e)).then((({serverVersion:e})=>({major:parseInt(e.major,10),minor:parseInt(e.minor,10)})))}(t),r=l.bind(n);return(0,i.rJ)("run",o.d.OnlineLike,e,void 0,r)(t)}},p=e=>{const t=d();e.listen("/kubectl/run",t,r.Z),e.listen("/k/run",t,r.Z)}},43888:(e,t,n)=>{"use strict";n.d(t,{$:()=>w,o:()=>x});var r=n(11227),i=n.n(r),o=n(18495);function s(e,t){return{templates:e.map((({filepath:e,data:n})=>({filepath:e,data:n,isFor:t,kind:"source",contentType:"yaml"})))}}var a=n(42177),c=n(88363),u=n(98919),l=n(98764),d=n(58853),p=n(64082),f=n(25218),h=n(76299),m=n(84323),y=n(45997),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g=(0,o.i18n)("plugin-kubectl"),b=i()("plugin-kubectl/controller/kubectl/status");function x(e,t){const n=e.attributes.find((e=>/STATUS/i.test(e.key)));if(void 0!==n)return(0,y._)(n.value,t);{const t=e.attributes.find((e=>/READY/i.test(e.key)));if(void 0!==t){const[e,n]=t.value.split(/\//);return e&&n&&e===n}}return!0}class k{constructor(e,t,n,r,i,o,s,a,c=1e3,u=k.calculateLadder(c)){this.tab=e,this.ref=t,this.row=n,this.finalState=r,this.done=i,this.pusher=o,this.contextArgs=s,this.command=a,this.ladder=u,this.pollOnce(0)}pollOnce(e){return v(this,void 0,void 0,(function*(){const t=e<this.ladder.length?this.ladder[e]:this.ladder[this.ladder.length-1];b("pollOnce",this.ref,t,(0,c.UD)(this.ref));try{const e=yield this.tab.REPL.qexec(`${this.command} get ${(0,c.UD)(this.ref)} ${this.contextArgs} -o wide`);if(b("pollOnce table",e),e&&e.body&&1===e.body.length){const t=e.body[0],n=x(t,this.finalState),r=t.attributes.find((e=>/STATUS/i.test(e.key)))||t.attributes.find((e=>/READY/i.test(e.key))),i=function(e){const t=Object.assign({},e);return t.attributes=e.attributes.map((e=>Object.assign({},e))),t}(this.row),o=i.attributes.find((({key:e})=>/STATUS/i.test(e)));if(o.value=r?r.value:"Ready",n&&(o.css=this.finalState===y.d.OnlineLike?m.Z.Green:m.Z.Red),this.pusher.update(i),n)return b("resource is ready",this.ref,this.row,r),void this.done()}else console.error("unexpected tabular response in poller",e)}catch(e){if(404===e.code&&this.finalState===y.d.OfflineLike)return this.pusher.offline(this.ref.name),void this.done()}this.timer=setTimeout((()=>this.pollOnce(e+1)),t)}))}static calculateLadder(e){let t=5e3;try{t=Object(function(){var e=new Error("Cannot find module '@kui-shell/client/config.d/limits.json'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){b("using default tablePollingInterval",e)}const n=[e];let r=e;for(;r<t;)r<1e3?(r=r+250<1e3?r+250:1e3,n.push(r)):(n.push(r),r=r+2e3<t?r+2e3:t,n.push(r));return n}abort(){this.timer&&clearTimeout(this.timer)}}class S{constructor(e,t,n,r,i,o){this.args=e,this.tab=t,this.resourcesToWaitFor=n,this.finalState=r,this.contextArgs=i,this.command=o,this.pollers=[],this.ptyJob=[]}abortEventWatchers(){this.ptyJob&&(this.ptyJob.forEach((e=>e.abort())),this.ptyJob=[])}abort(){this.pollers.forEach((e=>{e&&e.abort()})),this.ptyJob&&(this.ptyJob.forEach((e=>e.abort())),this.ptyJob=[])}init(e){let t=this.resourcesToWaitFor.length;const n=()=>{if(0==--t){b("all resources are ready"),e.done();for(let e=0;e<this.pollers.length;e++)this.pollers[e]=void 0;this.ptyJob&&(this.ptyJob.forEach((e=>e.abort())),this.ptyJob=[])}};this.resourcesToWaitFor.map(((t,r)=>{const{kind:i,name:o,namespace:s}=t,a=new p.l(this.args,this.command,i,[o],s,!0,e);a.init(),this.ptyJob.push(a);const c=this.initialBody[r];return new k(this.tab,t,c,this.finalState,n,e,this.contextArgs,this.command)})).forEach((e=>{this.pollers.push(e)}))}nsAttr(e,t){return t?[{key:"NAMESPACE",value:e}]:[]}initialTable(){const e=(0,d.Dz)(this.args),t=this.resourcesToWaitFor.some((({namespace:e})=>"default"!==e));this.initialBody=this.resourcesToWaitFor.map((n=>{const{group:r="",version:i="",kind:o,name:s,namespace:a}=n;return{name:s,onclick:`${this.command} get ${(0,c.UD)(n)} -o yaml`,onclickIdempotent:!0,attributes:this.nsAttr(a,t).concat([{key:"KIND",value:o+(r.length>0?`.${i}.${r}`:""),outerCSS:"",css:""},{key:"STATUS",tag:"badge",value:g(e?"Dry Run":"Pending"),outerCSS:"",css:m.Z.Yellow}])}}));return{header:{key:"NAME",name:"Name",attributes:this.initialBody[0].attributes.map((({key:e,outerCSS:t})=>({key:e,value:(0,u.s7)(e),outerCSS:t})))},body:this.initialBody,watch:e?void 0:this}}}const w=(e,t,r,i,u,p,m=!0)=>v(void 0,void 0,void 0,(function*(){const g=yield(0,d.D_)(e),x=(0,d.zU)(e),k=(0,d.tX)(e);try{const{resourcesToWaitFor:i,kuiSourceRef:w}=x?yield function(e,t,r){return v(this,void 0,void 0,(function*(){const{isFor:i}=(0,d.Wb)(t),[{loadAll:a},u]=yield Promise.all([n.e(8163).then(n.bind(n,78163)),(0,h.H4)(t,e,!0)]);return{resourcesToWaitFor:o.Util.flatten(u.map((e=>a(e.data)))).filter((e=>e.metadata)).map((({apiVersion:e,kind:t,metadata:{name:n,namespace:i=r}})=>{const{group:o,version:s}=(0,c.cR)(e);return{group:o,version:s,kind:t,name:n,namespace:i}})),kuiSourceRef:s(u,i)}}))}(x,e,g):k?yield function(e,t,r){return v(this,void 0,void 0,(function*(){const[i,{load:o}]=yield Promise.all([(0,h.MJ)(t,e),n.e(8163).then(n.bind(n,78163))]),s=yield Promise.all(i.templates.map((e=>o(e.data))).map((e=>v(this,void 0,void 0,(function*(){const{apiVersion:t,kind:n,metadata:i}=e,{group:o,version:s}=(0,c.cR)(t);return{group:o,version:s,kind:n,name:i.name,namespace:i.namespace||r}})))));return{kuiSourceRef:i,resourcesToWaitFor:s}}))}(k,e,g):yield function(e,t,n,r){return v(this,void 0,void 0,(function*(){const[i,o,s]=t;if(r===y.d.OfflineLike)return{resourcesToWaitFor:t.slice(1).map((e=>e.split(/\./))).map((([e,t,r])=>({group:t,version:r,kind:i,name:e,namespace:n})))};if("create"===e)return/secret(s)?/i.test(i)?{resourcesToWaitFor:[{name:s,kind:i,namespace:n}]}:{resourcesToWaitFor:t.slice(1).map((e=>e.split(/\./))).map((([e,t,r])=>({group:t,version:r,kind:i,name:e,namespace:n})))};const[a,c,u]=o.split(/\./);return{resourcesToWaitFor:[{group:c,version:u,kind:i,name:a,namespace:n}]}}))}(t,p||e.argvNoOptions.slice(e.argvNoOptions.indexOf(t)+1),g,u);if(b("resourcesToWaitFor",i),1===i.length){const{group:t,version:n,kind:o,name:s}=i[0];if((0,f.Cr)({apiVersion:`${t}/${n}`,kind:o})){const i=(0,d.QG)(e,`${r||"kubectl"} get ${o}.${n}.${t} ${s} ${m?"--watch":""}`);return e.REPL.qexec(i)}}try{const n=(yield Promise.all(i.map((t=>v(void 0,void 0,void 0,(function*(){return Object.assign(t,{explainedKind:yield(0,a.St)(r||"kubectl",e,t.kind)})})))))).reduce(((e,t)=>{const n=e.find((e=>e.namespace===t.namespace&&e.explainedKind.kind===t.explainedKind.kind&&e.explainedKind.version===t.explainedKind.version));return n?n.names.includes(t.name)||n.names.push(t.name):e.push({names:[t.name],namespace:t.namespace,explainedKind:t.explainedKind}),e}),[]);if(n.every((({explainedKind:e})=>e&&e.kind))){const i=yield(0,l.Z)(e,n,u,r,x,m);if(i)return b("using direct/status response"),(0,o.isTable)(i)?"delete"!==t?Object.assign(i,{kuiSourceRef:w}):i:i.join("\n")}}catch(e){console.error("Error with direct/status. Falling back on polling implementation.",e)}if(b("backup plan: using old status poller"),m)return Object.assign(new S(e,e.tab,i,u,`-n ${g} ${(0,d.zr)(e)}`,r).initialTable(),{kuiSourceRef:"delete"!==t?w:void 0})}catch(e){if(console.error("error constructing StatusWatcher",e),m)return i}}))},64082:(e,t,n)=>{"use strict";n.d(t,{l:()=>x,Z:()=>S});var r=n(11227),i=n.n(r),o=n(73258),s=n.n(o),a=n(18495),c=n(88363),u=n(42177),l=n(58853),d=n(50816),p=n(98919),f=n(84323),h=n(48764).Buffer,m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const y=(0,a.i18n)("plugin-kubectl","events"),v=i()("plugin-kubectl/controller/watch/watcher");function g(e,t){const n=e.split(/\n/).map((e=>{const t=e.split(/\|/);return t.slice(0,t.length-1)}));let r=n.length;for(;--r>=0&&n[r].length!==t;);if(r<0)return{leftover:e,rows:[]};if(r===n.length-1)return{leftover:void 0,rows:n.map((e=>e.map((e=>({key:e,value:e}))))).filter((e=>e.length>0))};{let t=e.length;for(;--t>=0&&"\n"!==e.charAt(t););return{leftover:e.slice(t),rows:n.slice(0,r+1).map((e=>e.map((e=>({key:e,value:e}))))).filter((e=>e.length>0))}}}function b(e){return null!=e}class x{constructor(e,t,n,r,i,o,s){this.args=e,this.command=t,this.kindByUser=n,this.name=r,this.namespace=i,this.watchOnly=o,this.pusher=s,this.shouldAbort=!1,this.ptyJob=[],this.now=Date.now()}abort(){this.shouldAbort=!0,this.ptyJob&&this.ptyJob.forEach((e=>e.abort()))}onPTYEventInit(e){return v("onPTYEventInit"),this.ptyJob.push(e),e=>m(this,void 0,void 0,(function*(){if("string"==typeof e){const t=this.eventLeftover?this.eventLeftover+e:e;this.eventLeftover=void 0;const n=g(t,4);v("rawData",t),this.eventLeftover="\n"===n.leftover?void 0:n.leftover;const r=n.rows.filter(b).filter((e=>e[1]&&(!this.name||0===this.name.length||this.name.includes(e[1].value)))).sort(((e,t)=>new Date(e[0].value).getTime()-new Date(t[0].value).getTime())),i=r.map((e=>{const t=new Date(e[0].value).getTime(),n=this.now-t;return isNaN(n)?y("<unknown>"):y("ago",n<=0?s()(0):s()(n>=0?n:0,{compact:!0}).toString())})),o=r.map(((e,t)=>{const n=e[1].value,r=e[2].value,o=e[3].value,s=`#kuiexec?command=${encodeURIComponent((0,l.QG)(this.args,`kubectl get event ${o} -o yaml`))}`;return`[[${i[t]}]](${s}) **${n}**: ${r}`}));o&&this.pusher.footer(o)}}))}onPTYInitDone(){this.shouldAbort&&this.abort()}init(){return m(this,void 0,void 0,(function*(){const e=`--field-selector=involvedObject.kind=${yield(0,u.ZK)(this.command,this.args,this.kindByUser)}`,t=this.watchOnly?"--watch-only":"-w",n=(0,l.QG)(this.args,`${this.command} get events ${t} -n ${this.namespace} ${e} --no-headers -o jsonpath='{.lastTimestamp}{"|"}{.involvedObject.name}{"|"}{.message}{"|"}{.metadata.name}{"|\\n"}'`.replace(/^k(\s)/,"kubectl$1"));this.args.REPL.qexec(`sendtopty ${n}`,this.args.block,void 0,{quiet:!0,replSilence:!0,echo:!1,onReady:this.onPTYInitDone.bind(this),onInit:this.onPTYEventInit.bind(this)}).catch((e=>{v("pty event error",e)}))}))}}class k{constructor(e,t=(0,l.QI)(e)){this.args=e,this.output=t,this.nCols=4,this.weRequestedAbort=!1,this.nPTYReinits=0,this.ptyJob=[],this.limit=e.parsedOptions.limit||(e.execOptions.data&&"object"==typeof e.execOptions.data&&!h.isBuffer(e.execOptions.data)&&"number"==typeof e.execOptions.data.limit?e.execOptions.data.limit:void 0)}abort(){this.weRequestedAbort=!0,this.ptyJob&&(this.ptyJob.forEach((e=>e.abort())),this.ptyJob=[])}groupByNamespace(e){return e.reduce(((e,t)=>{const n=t[3].value||"default",r=e[n]||[];return e[n]||(e[n]=r),r.push(t),e}),{})}allNamespaceOverride(e,t,n){return m(this,void 0,void 0,(function*(){const r=yield this.args.REPL.qexec(`sendtopty ${t.replace(/^k(\s)/,"kubectl$1")}`),i=(0,p.hO)(r.split(/^(?=LAST SEEN|NAMESPACE|NAME\s+)/m))[0].map(((t,n)=>0===n?[{key:"NAMESPACE",value:"NAMESPACE"}].concat(t):[{key:"NAMESPACE",value:e}].concat(t))),o=(0,d.fY)(this.args),s="k"===o?"kubectl":o;return(0,p.xM)(s,"get",n,this.args,i)}))}getRowsForNamespace(e,t,n,r){const i=(0,l.wU)(this.args,`get ${(0,c.M5)(e,t)} ${r.join(" ")} -n ${n} ${this.output?`-o ${this.output}`:""}`);return(0,l.Dk)(this.args.parsedOptions)?this.allNamespaceOverride(n,i,t):this.args.REPL.qexec(i).catch((e=>{404!==e.code?console.error(e):"string"==typeof r?this.pusher.offline(r):r.forEach((e=>this.pusher.offline(e)))}))}getRowsForUser(e){return m(this,void 0,void 0,(function*(){if(0===e.length)return;const t=e[0][1].value,n=e[0][2].value,r=this.groupByNamespace(e),i=(yield Promise.all(Object.keys(r).map((e=>{const i=r[e].map((e=>e[0].value));return this.getRowsForNamespace(n,t,e,i)})))).filter(b);return i.length>0?{title:i[0].title,header:i[0].header,body:a.Util.flatten(i.map((e=>e.body)))}:void 0}))}isDone(e){const t=e.attributes.find((e=>/STATUS/i.test(e.key)));return t&&t.css&&t.css===f.Z.Blue}onPTYExit(){this.weRequestedAbort||(this.nPTYReinits++<k.maxPTYReinits?(v("premature termination of the pty; refiring the pty",this.nPTYReinits),this.init(this.pusher)):v("premature termination of the pty; however, maximum reinit count exceeded!"))}onPTYInit(e){v("onPTYInit",this.limit),this.ptyJob.push(e);let t=this.limit;const n={};let r;return e=>m(this,void 0,void 0,(function*(){if("string"==typeof e){if(/not found/.test(e))return void this.pusher.allOffline();const i=this.leftover?this.leftover+e:e;this.leftover=void 0;const o=g(i,this.nCols);this.leftover="\n"===o.leftover?void 0:o.leftover;const{rows:s}=o,a=yield this.getRowsForUser(s);if(a){a.header&&this.pusher.header(a.header);const e=s[0][2].value,i=s[0][1].value,o="v1"===e&&"Event"===i;a.body.forEach((e=>{if(e.isDeleted)this.pusher.offline(e.name);else{this.pusher.update(e,!0,!o);const r=e.attributes.find((e=>/NAME/i.test(e.key))),i=r?r.value:e.name;this.limit&&!n[i]&&this.isDone(e)&&(n[i]=!0,t--)}})),r&&clearTimeout(r),r=setTimeout((()=>{r=void 0,this.pusher.batchUpdateDone()}),200),this.limit&&t<=0&&(v("Aborting PTY channel, due to having observed the expected number of completions"),this.abort(),this.pusher.done())}}else console.error("unknown streamable type",e)}))}init(e){return m(this,void 0,void 0,(function*(){this.pusher=e;const t=(0,l.QG)(this.args,this.args.command.replace(/^k(\s)/,"kubectl$1").replace(/--limit \d+/g,"").replace(/--sort-by=\S+/g,"").replace(/--watch=true|-w=true|--watch-only=true|--watch|-w|--watch-only/g,"--watch").replace(new RegExp(`(-o|--output)(\\s+|=)${this.output}`),"")+' -o jsonpath=\'{.metadata.name}{"|"}{.kind}{"|"}{.apiVersion}{"|"}{.metadata.namespace}{"|\\n"}\'');this.args.REPL.qexec(`sendtopty ${t}`,this.args.block,void 0,{quiet:!0,replSilence:!0,echo:!1,onExit:this.onPTYExit.bind(this),onInit:this.onPTYInit.bind(this)}).catch((e=>{v("pty error",e)}));const n=(0,d.fY)(this.args),r=yield(0,l.D_)(this.args),i=this.args.argvNoOptions[this.args.argvNoOptions.indexOf("get")+1];if((0,l.id)(this.args)||this.args.parsedOptions["field-selector"])v("event watcher does not support label and field selector");else{const e=new x(this.args,n,i,(0,l.vI)(i,this.args),r,!1,this.pusher);e.init(),this.ptyJob.push(e)}}))}}function S(e){return m(this,void 0,void 0,(function*(){try{const t=(0,l.QG)(e,e.command.replace(/^k(\s)/,"kubectl$1").replace(/--watch=true|-w=true|--watch-only=true|--watch|-w|--watch-only/g,"")),n=yield e.REPL.qexec(t).catch((t=>{if(404!==t.code)throw t;{const n=e.argvNoOptions,r=n.indexOf("get")+1,i=n[r],o=n[r+1];if(/doesn't have a resource type/i.test(t.message))throw t;if(i&&o)throw t;return{body:[]}}}));return"string"==typeof n?e.execOptions.initialResponse||n:Object.assign({},n,{breadcrumbs:n.breadcrumbs||(yield(0,p.Qt)(n.title,e)),title:n.title||(yield(0,u.ZK)((0,d.fY)(e),e,e.argvNoOptions[e.argvNoOptions.indexOf("get")+1])),watch:new k(e,void 0)})}catch(t){const n=e.execOptions.initialResponse||t.message;throw t.message=n,t}}))}k.maxPTYReinits=1e3},53450:(e,t,n)=>{"use strict";n.d(t,{_b:()=>C.ZP,pb:()=>l.Z,Lr:()=>w.L,Dq:()=>k.Dq,q1:()=>S.q,uV:()=>c,fF:()=>o.fF,I$:()=>o.I$,d1:()=>o.d1,A:()=>o.A,gc:()=>b.gc,t$:()=>h.t$,g8:()=>u.g8,dP:()=>x.d,xf:()=>E.xf,id:()=>l.i,xM:()=>f.xM,kJ:()=>y.kJ,uE:()=>y.uE,Kz:()=>b.Ao,fY:()=>m.fY,ZO:()=>p.ZO,Yi:()=>d.getCurrentDefaultNamespace,ZK:()=>v.ZK,Z7:()=>p.id,xT:()=>p.xT,D_:()=>p.D_,UU:()=>p.UU,Yn:()=>b.Yn,Rt:()=>r.Rt,Dk:()=>p.Dk,oe:()=>r.oe,Bv:()=>r.Bv,Ib:()=>r.Ib,k1:()=>r.th,Xk:()=>r.Xk,lN:()=>h.lN,hO:()=>f.hO,VP:()=>O.VP,Tn:()=>E.z2,hM:()=>g.z2,QG:()=>p.QG});var r=n(25218),i=(n(84323),n(18495)),o=n(94194),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=(0,i.i18n)("plugin-kubectl");function c(e,t){return s(this,void 0,void 0,(function*(){const n=e.argv[0],r=(yield(0,o.d1)(e,void 0,t)).replace(/^ (.*)/gm,"        $1");return{apiVersion:"kui-shell/v1",kind:"NavResponse",breadcrumbs:[{label:n}],links:[],menus:[{label:a("Usage"),items:[{mode:a("Introduction"),content:r,contentType:"text/markdown"}]}]}}))}var u=n(72400),l=(n(77316),n(72890)),d=n(347),p=n(58853),f=(n(92964),n(98919)),h=(n(88342),n(36156)),m=n(50816),y=(n(76299),n(88363)),v=n(42177),g=n(70764),b=n(28724),x=n(83923),k=n(67039),S=n(66167),w=n(76600),E=n(87500),O=n(82216),C=n(26430);n(23918)},25218:(e,t,n)=>{"use strict";n.d(t,{pL:()=>o,Yy:()=>s,k1:()=>a,BJ:()=>c,ri:()=>u,Ib:()=>l,xS:()=>d,l7:()=>p,th:()=>f,me:()=>h,Cr:()=>m,Yc:()=>y,MN:()=>v,_E:()=>g,cO:()=>b,Rt:()=>x,oe:()=>k,Xk:()=>S,Bv:()=>w,MP:()=>E,O:()=>O,Oc:()=>C,UG:()=>$,iN:()=>N,Cb:()=>I,ko:()=>R,w2:()=>P,o2:()=>T});var r=n(38780),i=n(48764).Buffer;function o(e){return"string"==typeof e.metadata.resourceVersion}function s(e,t){return e.apiVersion===t.apiVersion&&e.kind===t.kind&&e.metadata.name===t.metadata.name&&e.metadata.namespace===t.metadata.namespace&&o(e)&&o(t)&&e.metadata.resourceVersion===t.metadata.resourceVersion}function a(e){if(!e.metadata)return!1;const{ownerReferences:t}=e.metadata;return t&&Array.isArray(t)&&1===t.length&&"string"==typeof t[0].apiVersion&&"string"==typeof t[0].kind&&"string"==typeof t[0].name}function c(e){return"string"==typeof e.kuiRawData}function u(e){return void 0!==e.metadata&&void 0!==e.metadata.namespace}function l(e){const t=e;return void 0!==t&&!0===t.isKubeResource&&void 0!==t.apiVersion&&t.apiVersion!==r.Z&&void 0!==t.kind}function d(e){return void 0!==e&&void 0!==e.summary}function p(e){return l(e)&&(d(e)||void 0!==e.kind&&"List"!==e.kind&&"CustomResourceDefinition"!==e.kind)}function f(e){return l(e)&&"v1"===e.apiVersion&&"Pod"===e.kind}function h(e){return l(e)&&"v1"===e.apiVersion&&"Namespace"===e.kind}function m(e){return"batch/v1"===e.apiVersion&&"Job"===e.kind}function y(e){return l(e)&&"Deployment"===e.kind&&("extensions/v1beta1"===e.apiVersion||"apps/v1"===e.apiVersion)}function v(e){return l(e)&&("extensions/v1beta1"===e.apiVersion||"apps/v1"===e.apiVersion)&&"ReplicaSet"===e.kind}function g(e){const t=e;return void 0!==t.involvedObject&&"string"==typeof t.involvedObject.apiVersion&&"string"==typeof t.involvedObject.kind&&"string"==typeof t.involvedObject.name}function b(e){return l(e)&&"v1"===e.apiVersion&&"Event"===e.kind}function x(e){return l(e)&&!b(e)&&!e.isSimulacrum}function k(e){return l(e)&&"v1"===e.apiVersion&&/List$/.test(e.kind)}function S(e){return l(e)&&"v1"===e.apiVersion&&"PodList"===e.kind}function w(e,t){return k(e)&&e.items.length>0&&t(e.items[0])}function E(e){return l(e)&&("apiextensions.k8s.io/v1"===e.apiVersion||"apiextensions.k8s.io/v1beta1"===e.apiVersion)&&"CustomResourceDefinition"===e.kind}function O(e){return l(e)&&"v1"===e.apiVersion&&"ConfigMap"===e.kind}function C(e){return"CustomResourceDefinition"===e||"Namespace"===e||"Node"===e}function $(e){return"v1"===e.apiVersion&&"Node"===e.kind}function N(e){const t=e;return"meta.k8s.io/v1"===t.apiVersion&&"Table"===t.kind}function I(e){if(i.isBuffer(e)||"string"==typeof e)return!1;{const t=e;return"v1"===t.apiVersion&&"Status"===t.kind}}function R(e){return"v1"===e.apiVersion&&"Secret"===e.kind}function P(e){return l(e)&&e.metadata.annotations&&Object.keys(e.metadata.annotations).length>0}function T(e){return l(e)&&e.metadata.labels&&Object.keys(e.metadata.labels).length>0}},45997:(e,t,n)=>{"use strict";n.d(t,{d:()=>E,_:()=>I});const r="Available",i="Active",o="Online",s="Ready",a="Running",c="Completed",u="Succeeded",l="ProvisionedSuccessfully",d="Propagated",p="Subscribed",f="Deployed",h="ChannelReady",m="Addressable",y="Offline",v="Offline",g="Failed",b="Disparity",x="NotProvisioned",k="Unschedulable",S="ErrImagePull",w="PropagationFailed";var E;!function(e){e[e.NotPendingLike=0]="NotPendingLike",e[e.OnlineLike=1]="OnlineLike",e[e.OfflineLike=2]="OfflineLike"}(E||(E={}));const O={},C=e=>e.reduce(((e,t)=>(e[t]=!0,e)),{});O[E.OnlineLike]=C([r,i,o,s,a,l,f,h,m,c,d,p,u]);const $=e=>O[E.OnlineLike][e];O[E.OfflineLike]=C([y,v,g,b,x,k,w,S]);const N=e=>!!O[E.OfflineLike][e];function I(e,t){var n;return e===g||t===E.NotPendingLike&&!(!$(n=e)&&!N(n))||t===E.OnlineLike&&$(e)||t===E.OfflineLike&&N(e)}},84323:(e,t,n)=>{"use strict";var r;function i(e){return e.indexOf(r.Red)>=0?r.Red:e.indexOf(r.Yellow)>=0?r.Yellow:e.indexOf(r.Blue)>=0?r.Blue:e.indexOf(r.Green)>=0?r.Green:r.Gray}n.d(t,{o:()=>i,Z:()=>o}),function(e){e.Gray="gray-background",e.Red="red-background",e.Yellow="yellow-background",e.Blue="blue-background",e.Green="green-background"}(r||(r={}));const o=r},76299:(e,t,n)=>{"use strict";n.d(t,{dc:()=>N,LG:()=>I,H4:()=>P,MJ:()=>T,Q:()=>$,Cg:()=>E});var r=n(11227),i=n.n(r),o=(n(26470),n(18495));var s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=i()("plugin-kubectl/client/proxy"),c={oc:void 0,kubectl:void 0};function u(){try{this.process&&(a("killing kubectl proxy",this.port),this.process.kill()),function(e){try{"function"==typeof e&&(0,o.offQuit)(e)}catch(e){console.error("Error unregistering kubectl proxy onQuit",e)}}(this.onQuitHandler)}catch(e){console.error("Error stopping kubectl proxy",e)}}function l(e,t){return s(this,void 0,void 0,(function*(){const{spawn:r}=yield n.e(3128).then(n.t.bind(n,13128,23));return new Promise(((n,i)=>{const s=(l=8001,d=0)=>{try{a(`attempting to spawn kubectl proxy on port=${l} context=${t||"default"}`);const p=["proxy","--keepalive=120s","--port",l.toString()];t&&(p.push("--context"),p.push(t));const f=r(e,p);let h,m=!1;f.on("error",(e=>{console.error("Error spawning kubectl proxy",e),i(e)})),f.stdout.on("data",(e=>{const t=e.toString();a("stdout",t),/Starting to serve/.test(t)&&(a("succeessfully spawned kubectl proxy on port",l),h=function(e){try{const t=u.bind(e);return(0,o.onQuit)(t),Object.assign(e,{onQuitHandler:t})}catch(e){console.error("Error registering kubectl proxy onQuit",e)}}({process:f,port:l}),n(h))}));let y="";f.stderr.on("data",(e=>{const t=e.toString();/address already in use/.test(t)&&d<1e3?(m=!0,s(l+1,d+1)):(a("stderr",t),y+=t)})),f.on("exit",((t,n)=>{a("kubectl proxy has exited with code",t||n),void 0!==c[e]&&d>=1e3?(console.error(`kubectl proxy exited unexpectedly with exitCode=${t||n}`),i(new Error(y))):c[e]&&(a("marking proxy as terminated"),h&&(h.process=void 0),m||(c[e]=void 0))}))}catch(e){console.error("Error establishing kubectl proxy",e),i(e)}};s()}))}))}function d(e,t){return void 0!==c[e]&&void 0!==c[e][t]}function p(e,t){return s(this,void 0,void 0,(function*(){return d(e,t)||function(e,t){if(c[e]){if(!c[e][t]){const n=l(e,t);c[e][t]=n}}else{const n=l(e,t);c[e]={[t]:n}}c[e][t]}(e,t),{baseUrl:d(e,t)?`http://localhost:${(yield c[e][t]).port}`:void 0}}))}n(58853);var f=n(347),h=n(186),m=n(48764).Buffer,y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const v=(0,o.i18n)("plugin-kubectl"),g=i()("plugin-kubectl/util/fetch-file"),b=o.Capabilities.isHeadless()?0:10,x=/http(s)?:\/\//,k=/^openshift:\/\//,S=/^kubernetes:\/\//;function w(e,t){return y(this,void 0,void 0,(function*(){const n=yield(0,f.getCurrentDefaultContextName)(t);if(S.test(e)){const{baseUrl:t}=yield p("kubectl",n);return e.replace(S,t)}if(k.test(e)){const{baseUrl:t}=yield p("oc",n);return e.replace(k,t)}return e}))}function E(e,t,r,i){return y(this,void 0,void 0,(function*(){if(o.Capabilities.inBrowser()&&o.Capabilities.hasProxy())g("routing openStream request to proxy",t),yield e.REPL.rexec(`_openstream ${(0,o.encodeComponent)(t)}`,Object.assign({},{onInit:r.onInit,onReady:r.onReady,onExit:r.onExit,data:{headers:i}})),g("routed openStream to proxy: done",t);else{const[o,s]=yield Promise.all([w(t,e),Promise.all([n.e(8575),n.e(9267),n.e(5835),n.e(3780),n.e(6137)]).then(n.t.bind(n,64484,23)).then((e=>e.default))]);g("routing openStream request to endpoint",o);const a=s.get(o,{headers:i,parse:!1}),c=r.onInit({abort:()=>{g("abort requested",typeof a.destroy),"function"==typeof a.destroy&&a.destroy(),"function"==typeof r.onExit&&(g("sending onExit"),r.onExit(0))},xon:()=>a.resume(),xoff:()=>a.pause(),resize:()=>{console.error("Unsupported Operation: resize")},write:()=>{console.error("Unsupported Operation: write")}});a.on("error",(e=>{"ERR_STREAM_DESTROYED"!==e.code&&console.error("stream suddenly died",e)})),function(e,t,n){let r=!1,i=!1,o=0,s="";n&&e.on("done",n),t&&e.on("data",(e=>{const n=e.toString();for(let e=0;e<n.length;e++){const a=n.charAt(e),c=r;if(r=!1,s+=a,i||"{"!==a||o++,c||'"'!==a||(i=!i),c||"\\"!==a||(r=!0),!i&&"}"===a&&0==--o){let e;try{e=JSON.parse(s)}catch(e){console.error("Error parsing bundle",s,e)}try{t(e)}catch(t){console.error("Error processing bundle",e,t)}s=""}}}))}(a,yield c,r.onExit)}}))}function O(e,t,r,i=0){return y(this,void 0,void 0,(function*(){if(o.Capabilities.inBrowser()){if(o.Capabilities.inBrowser()){if(o.Capabilities.hasProxy()){g("fetch via proxy");const n=yield(0,f.getCurrentDefaultContextName)(e);return{statusCode:200,body:(yield e.REPL.rexec(`_fetchfile ${(0,o.encodeComponent)(t)} --context ${n}`,{data:r})).content[0]}}throw new Error(v("Unable to fetch remote file"))}}else{const o=r&&r.method||"get",s=Object.assign({connection:"keep-alive"},r.headers);if(g("fetch via needle",o,s,t),h.env.TRAVIS_CHAOS_TESTING){const e=new Error("404 page not found");throw e.code=404,e.statusCode=404,e}try{const i=(yield Promise.all([n.e(8575),n.e(9267),n.e(5835),n.e(3780),n.e(6137)]).then(n.t.bind(n,64484,23))).default,{statusCode:a,body:c}=yield i(o,yield w(t,e),r.data,{json:!/\.(md|yaml)$/.test(t),follow_max:10,headers:s});return g("fetch via needle done",a,t),{statusCode:a,body:c}}catch(n){if("ECONNREFUSED"===n.code&&i<b)return g("retrying due to ECONNREFUSED"),new Promise(((n,o)=>{setTimeout((()=>y(this,void 0,void 0,(function*(){try{O(e,t,r,i+1).then(n,o)}catch(e){o(e)}}))),50)}));throw n}}}))}function C(e,t,n){return y(this,void 0,void 0,(function*(){g("fetchRemote",t,n);const r=()=>O(e,t,n).then((e=>{if(0===e.statusCode||200===e.statusCode||"string"!=typeof e.body)return e.body;{const t=new Error(e.body.toString());throw t.code=e.statusCode,t}})),i=e=>t=>y(this,void 0,void 0,(function*(){if(/timeout/.test(t.message)||/hang up/.test(t.message)||/hangup/.test(t.message))return g("retrying",t),yield new Promise((t=>setTimeout(t,e))),r();throw t}));return r().catch(i(500)).catch(i(1e3)).catch(i(5e3))}))}function $(e){const t=e;return"string"!=typeof e&&!m.isBuffer(e)&&"string"==typeof t.error}function N(e,t,n){return y(this,void 0,void 0,(function*(){const r=t.split(/,/);g("fetchFile",r);const i=Date.now(),s=yield Promise.all(r.map(((t,r)=>y(this,void 0,void 0,(function*(){if(x.test(t)||S.test(t)||k.test(t))return g("fetch remote",t),C(e,t,Object.assign({},n,{data:n?Array.isArray(n.data)?n.data[r]:n.data:void 0})).catch((e=>{if(n&&n.returnErrors)return{code:e.code,error:e.message||JSON.stringify(e)};throw e}));{const n=t;g("fetch local",n);return(yield e.REPL.rexec(`vfs fstat ${(0,o.encodeComponent)(n)} --with-data`)).content.data}})))));return g("fetchFile done",Date.now()-i),s}))}function I(e,t,n){return y(this,void 0,void 0,(function*(){return(yield N(e,t,{headers:n})).map((e=>{try{return e?"string"==typeof e?e:m.isBuffer(e)?e.toString():JSON.stringify(e):void 0}catch(t){return console.error("Unable to convert fetched file to string",t,e),""}}))}))}function R(e,t){return y(this,void 0,void 0,(function*(){const n=yield(0,f.getCurrentDefaultContextName)(e);return(yield e.REPL.rexec(`_fetchfile ${(0,o.encodeComponent)(t)} --kustomize --context ${n}`)).content}))}function P(e,t,n){return y(this,void 0,void 0,(function*(){const r="string"==typeof t?[t]:t,i=n?r.map((e=>`${(0,o.encodeComponent)(e)} ${(0,o.encodeComponent)(e)}/**/*.{yaml,yml}`)).join(" "):r.join(" "),s=new Set((yield e.REPL.rexec(`vfs ls ${i}`)).content.map((e=>e.path)));return(yield I(e,0===s.size?r.join(","):Array.from(s).join(","))).map(((e,t)=>{if(e)return{filepath:0===s.size?r[t]:Array.from(s)[t],data:e}}))}))}function T(e,t){return y(this,void 0,void 0,(function*(){const[{load:r},{join:i},s]=yield Promise.all([n.e(8163).then(n.bind(n,78163)),Promise.resolve().then(n.t.bind(n,26470,23)),R(e,t)]),a=r(s.data);if(a.resources){const n=a.resources.map((e=>(0,o.encodeComponent)(s.dir?i(s.dir,e):e))).join(" "),r=yield P(e,n);return{customization:{filepath:t,data:s.data,contentType:"yaml",isFor:"k"},templates:r.map((({filepath:e,data:t})=>({filepath:e,data:t,contentType:"yaml",isFor:"k"})))}}}))}},36156:(e,t,n)=>{"use strict";n.d(t,{lN:()=>v,t$:()=>g});var r=n(11227),i=n.n(r),o=n(18495),s=(n(50816),n(58853)),a=n(94194),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const u=i()("kubectl/help"),l=(0,o.i18n)("plugin-kubectl"),d=e=>e.replace(/^\s*([^.]+)[.]\s*$/,"$1").trim();function p({command:e,docs:t}){return`\n### Example\n\`\`\`\n${e}\n\`\`\`\n\n${t}\n`}function f(e,t,n,r){const i=`### ${e.replace(/:$/,"")}`;return t.reduce(((e,t)=>e+`\n#### [${t.command}](#kuiexec?command=${encodeURIComponent(function(e,t,n){return`${e}${t?` ${t}`:""} ${n} -h`}(n,r,t.command))})\n${t.docs}\n`),i)}function h(e,t=!0,...n){return e?[{label:e,command:t?`${n.join(" ")} ${e} -h`:void 0}]:[]}const m=(e,t,n,r,i)=>{const s=e.match(/^(Use\s+.+)$/gm),a=s?e.substring(0,s.index):e,c=s&&s.filter((e=>!e.includes('Use "kubectl options"'))).map((e=>e.replace(/"([^"]+)"/g,((e,t)=>`[${t}](#kuiexec?command=${encodeURIComponent(t)} "Execute ${t}")`)))).join("\n"),m=a.split(/\n\n([^'\s].*:)\n(?!\n)/),y=s&&0!==s.length?m[0].indexOf(s[0]):m[0].length,v=m[0].slice(0,y),g=e=>({title:e.title,rows:e.content.split(/[\n\r]/).filter((e=>e)).map((t=>{const i=t.match(/\s*((.+:)|\S+)\s+(.*)/);if(i&&4===i.length){const t=i[1],o=i[3];return{command:t.replace(/^\s*-\s+/,"").replace(/:\s*$/,""),docs:o&&o.replace(/^\s*:\s*/,""),commandPrefix:/Commands/i.test(e.title)&&`${n} ${r||""}`,noclick:!e.title.match(/Common actions/i)&&!e.title.match(/Commands/i)}}})).filter((e=>e))});if("options"===r){const e=v.split("\n\n"),i=g({title:e[0],content:e[1].replace(/^\n/,"")});return t.execOptions.type===o.ExecType.TopLevel?((e,t,n,r,i=o.TableStyle.Light)=>({noSort:!0,style:i,header:{name:r,attributes:[{value:"DOCS"}]},body:e.map((({command:e,docs:i})=>({name:e,outerCSS:"option-width",css:"COMMAND"===r?"clickable sub-text":"sub-text",onclick:"COMMAND"===r?`${t}${n?` ${n}`:""} ${e} -h`:void 0,attributes:[{key:"DOCS",value:i,css:"map-value"}]})))}))(i.rows,n,r,"OPTIONS",o.TableStyle.Medium):f(i.title,i.rows,n,r)}const b=m.slice(1).reduce(((e,t,n,r)=>(n%2==0&&e.push({title:r[n],content:r[n+1].replace(/^\n/,"")}),e)),[]),x=b.find((({title:e})=>"Aliases:"===e)),k=b.filter((({title:e})=>"Usage:"===e)),S=b.find((({title:e})=>"Examples:"===e)),w=b.filter((({title:e})=>"Usage:"!==e&&"Examples:"!==e)),E=w.map(g),O=(S?S.content:"").split(/^\s*(?:#\s+)/gm).map((e=>e.trim())).filter((e=>e)).map((e=>{const t=e.match(/(.*)[\n\r]([\s\S]+)/);if(t&&3===t.length){const[,e,n]=t,r=d(e),i=d(n),o=i.split(/[\n\r]/).length>1;return{command:o?r:i,docs:o?i:r}}return{copyToNextLine:e}})).reduce(((e,t,n,r)=>{for(let e=n-1;e>=0&&r[e].copyToNextLine;e--)t.docs=`${r[e].copyToNextLine}\n${t.docs}`;return t.copyToNextLine||e.push(t),e}),[]).filter((e=>e));if(0===v.length)return e;const C=[($=l("Usage"),{label:$,items:[{mode:l("Introduction"),content:v.replace(/\n\s*(IMPORTANT:)([^\n]+)/,"\n> **$1**$2").replace(/(\s)(NOT)(\s)/g,"$1**$2**$3").replace(/^(.{1-15}):$/gm,"##### $1\n").replace(/(:\n\n\s*)((([^,\n])+,)+[^,\n]+)/g,((e,t,n)=>`${t}${n.split(/,/).map((e=>e.startsWith("-")?e:` - ${e}`)).join("\n")}\n`)).concat("\n\n").replace(/(\s--\S+)/g,"`$1`").replace(/\n\n[+-]+\n/g,"\n\n").replace(/^\+--/gm,"---").replace(/--\+$/gm,"---").replace(/--\+/g,"--|").replace(/^[+-]+$/gm,"").replace(/\|\n[|-]+\n\n/g,"|\n\n").replace(/^\n*([^\n.]+)(\.?)/,"### About\n#### $1").replace(/\n\s*(Find more information at:)\s+([^\n]+)/,"").concat(x?`### Aliases\n${x.content}`:"").concat(k&&0!==k.length?`\n### Usage\n\`\`\`\n${k[0].content.slice(0,k[0].content.includes("\n")?k[0].content.indexOf("\n"):void 0).trim()}\n\`\`\`\n`:"").concat(c&&c.length>0?`### Guide\n${c}`:""),contentType:"text/markdown"}].concat(""===r&&"kubectl"===n?[{mode:l("Options"),contentType:"text/markdown",contentFrom:"kubectl options"}]:E.some((e=>/Flags|Options/i.test(e.title)))?E.filter((e=>/Flags|Options/i.test(e.title))).map((e=>({mode:e.title.replace(":",""),content:f(e.title,e.rows,n,r),contentType:"text/markdown"}))):[])}),(()=>{if(E.some((e=>/command/i.test(e.title))))return{label:l("Commands"),items:E.filter((e=>/command/i.test(e.title))).map((e=>({mode:e.title.replace(/Command(s)/,"").replace(/:$/,"")||l("Basic"),content:f(e.title,e.rows,n,r),contentType:"text/markdown"})))}})(),(()=>{const e=E.filter((e=>!(/command/i.test(e.title)||/Flags|Options/i.test(e.title))));if(e.length>0)return{label:l("Miscellaneous"),items:e.map((e=>({mode:e.title.replace(/:$/,""),content:f(e.title,e.rows,n,r),contentType:"text/markdown"})))}})(),(()=>{if(O&&O.length>0)return{label:l("Examples"),items:O.map((e=>({mode:e.command.replace(new RegExp(`^${n}\\s+${i?r:""}`),""),contentType:"text/markdown",content:p(e)})))}})()].filter((e=>e));var $;u("menus",C);return{apiVersion:"kui-shell/v1",kind:"NavResponse",menus:C,breadcrumbs:h(n,!!r||!!i).concat(h(r,!!i,n)).concat(h(i,!1,n,r)),links:[(e=>{const t="Find more information at: ";if(e.includes(t))return{label:l("More Information"),href:e.split(t)[1].split("\n")[0]}})(v)].filter((e=>e))}},y=/^k(ubectl)?$/,v=e=>(0,s.$)(e)||(e=>1===e.argv.length&&y.test(e.argv[0]))(e);function g(e,t,n=a.W5){return c(this,void 0,void 0,(function*(){const r=yield(0,a.ir)(t,n,e),i=t.argvNoOptions.length>=2?t.argvNoOptions[1]:"",o=t.argvNoOptions.length>=3?t.argvNoOptions[2]:"",c="help"===i,u=c&&(0,s.kr)(t),l=c&&!u?o:i,d=c?void 0:o;return((e,t,n,r,i)=>{try{return m(e,t,n,r,i)}catch(t){return console.error("Internal Error parsing help output",t),e}})(r.content.stdout||r.content.stderr,t,e,l,d)}))}},92964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(25218);function i(e){const t=e&&e.metadata,n=t&&t.labels&&t.labels["app.kubernetes.io/name"]&&t.labels["app.kubernetes.io/instance"]&&`${t.labels["app.kubernetes.io/instance"]}-${t.labels["app.kubernetes.io/name"]}`||t&&t.labels&&t.labels.app||(0,r._E)(e)&&e.involvedObject.name;if(n){const r=t&&t.labels&&t.labels.version,i=`(^${n})[-.](${r}-)?([0-9a-zA-Z]+-.+|[0-9a-z]{16})`,o=e.metadata.name.match(new RegExp(i)),s=o&&o[1],a=o&&o[3];if(s&&a)return{app:n,name:s,nameHash:a,version:r}}const i=t&&t.labels&&t.labels["pod-template-hash"];if(i){const n=t&&t.labels&&t.labels.version,r=`(.*)-(${i}.*$)`,o=e.metadata.name.match(new RegExp(r)),s=o&&o[1],a=o&&o[2];if(s&&a)return{name:s,nameHash:a,version:n}}return{}}},26430:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d});n(78805);function r(e){return/m$/.test(e)?parseInt(e.replace(/m$/,""),10):1e3*parseInt(e,10)}const i=1024,o=1048576,s=1073741824,a=1099511627776,c=1024*a;function u(e){let t=2,n=1;if("0"===e)return 0;if(/Ei$/.test(e))n=0x1000000000000000;else if(/Pi$/.test(e))n=c;else if(/Ti$/.test(e))n=a;else if(/Gi$/.test(e))n=s;else if(/Mi$/.test(e))n=o;else if(/Ki$/.test(e))n=i;else{if(/\d+/.test(e))return parseInt(e);t=1}return parseInt(e.slice(0,e.length-t),10)*n}function l(e){return e<i?e.toString():e<10485760?(e/i).toFixed(0)+"Ki":e<10737418240?(e/o).toFixed(0)+"Mi":e<10*a?(e/s).toFixed(0)+"Gi":e<10*c?(e/a).toFixed(0)+"Ti":(e/c).toFixed(0)+"Pi"}const d={fractionOfMemory:function(e,t){return(u(e)/u(t)*100).toFixed(1)+"%"},reformatAsBytes:function(e){return l(u(e))},formatAsBytes:l,formatAsCpu:function(e){return e>1e4?(e/1e3).toFixed(0):`${e}m`},cpuShare:r,memShare:u,cpuFraction:function(e){return parseInt(e.replace(/%$/,""),10)}}},50816:(e,t,n)=>{"use strict";n.d(t,{fY:()=>r,HZ:()=>i,p2:()=>o});n(58853);Error;const r=e=>{const t=e.argvNoOptions[0];return"k"===t?"kubectl":t},i=e=>2===e.argvNoOptions.length;function o(e){const t=e.split("\n"),n=t.map(((e,t)=>{if(e.includes("last-applied-configuration"))return t})).filter((e=>e));return t.filter(((e,t)=>!n.includes(t)&&!n.includes(t-1))).join("\n")}},40881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84323);const i={UNKNOWN:"",DEPLOYED:r.Z.Green,DELETED:"",SUPERSEDED:r.Z.Yellow,FAILED:r.Z.Red,DELETING:r.Z.Yellow,Offline:r.Z.Red,"Init:0/1":r.Z.Yellow,PodScheduled:r.Z.Yellow,PodInitializing:r.Z.Yellow,Initialized:r.Z.Yellow,Terminating:r.Z.Yellow,ImagePullBackOff:r.Z.Red,ErrImagePull:r.Z.Red,Error:r.Z.Red,UnexpectedAdmissionError:r.Z.Red,OOMKilled:r.Z.Red,1:r.Z.Green,0:r.Z.Red,"<none>":r.Z.Yellow,CrashLoopBackOff:r.Z.Red,Failed:r.Z.Red,PropagationFailed:r.Z.Red,Fail:r.Z.Red,Running:r.Z.Green,Pending:r.Z.Yellow,Succeeded:r.Z.Blue,Completed:r.Z.Gray,Unknown:"",Propagated:r.Z.Green,Subscribed:r.Z.Green,Ready:r.Z.Green,ProvisionedSuccessfully:r.Z.Green,Active:r.Z.Green,Online:r.Z.Green,NodeReady:r.Z.Green,Pulled:r.Z.Green,Rebooted:r.Z.Green,Started:r.Z.Green,Created:r.Z.Green,Scheduled:r.Z.Green,SuccessfulCreate:r.Z.Green,SuccessfulMountVol:r.Z.Green,ContainerCreating:r.Z.Yellow,Starting:r.Z.Yellow,NodeNotReady:r.Z.Yellow,Killing:r.Z.Red,Deleting:r.Z.Red,Pulling:r.Z.Yellow,BackOff:r.Z.Yellow,Unhealthy:r.Z.Red,FailedScheduling:r.Z.Red,FailedKillPod:r.Z.Red}},98919:(e,t,n)=>{"use strict";n.d(t,{O2:()=>c.Z,jT:()=>f,RA:()=>h,Qi:()=>m,VH:()=>y,hO:()=>g,QW:()=>b,Qt:()=>x,s7:()=>k,xM:()=>S,Lk:()=>w,k8:()=>E,rW:()=>C,jU:()=>$,ov:()=>N,ei:()=>I,Rx:()=>P,hb:()=>T});var r=n(18495),i=n(84323),o=n(25218),s=n(53450),a=n(58853),c=n(40881),u=n(48764).Buffer,l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const d=(0,r.i18n)("plugin-kubectl"),p=(e,t)=>e>=t?[]:new Array(t-e).fill(""),f={NAME:"entity-name-group",READY:"a-few-numbers-wide kui--hide-in-narrower-windows",KIND:"max-width-id-like entity-kind",NAMESPACE:"entity-name-group hide-with-sidecar not-a-name",MESSAGE:"not-too-compact",TYPE:"hide-with-sidecar",CLUSTER:"entity-name-group entity-name-group-narrow hide-with-sidecar",AUTHINFO:"entity-name-group entity-name-group-narrow hide-with-sidecar",REFERENCE:"entity-name-group entity-name-group-narrow hide-with-sidecar","CREATED AT":"hide-with-sidecar",CURRENT:"entity-name-group entity-name-group-extra-narrow text-center",DESIRED:"entity-name-group entity-name-group-extra-narrow text-center","LAST SEEN":"hide-with-sidecar entity-name-group-extra-narrow","FIRST SEEN":"hide-with-sidecar entity-name-group-extra-narrow",COUNT:"keep-with-sidecar",APIGROUP:"hide-with-sidecar",REVISION:"hide-with-sidecar",AGE:"hide-with-sidecar","PORT(S)":"entity-name-group entity-name-group-narrow hide-with-sidecar",SUBOBJECT:"entity-name-group entity-name-group-extra-narrow"},h={NAME:"entity-name",SOURCE:"lighter-text smaller-text",SUBOBJECT:"lighter-text smaller-text",MESSAGE:"somewhat-smaller-text pre-wrap","CREATED AT":"lighter-text smaller-text",AGE:"slightly-deemphasize","APP VERSION":"pre-wrap slightly-deemphasize",UPDATED:"slightly-deemphasize somewhat-smaller-text"},m={REASON:"badge",Reason:"badge",STATUS:"badge",Status:"badge"},y={Deployment:{READY:"badge",Ready:"badge"}},v=e=>e.replace(/\t/g,"   "),g=e=>e.map((e=>{const t=v(e.substring(0,e.indexOf("\n"))),n=t.split(/(\s\s)+\s?/).map((e=>e&&e.trim())).filter((e=>e)),r=[];for(let e=0,i=0;e<n.length;e++){const{offset:o,prefix:s}=0===e?{offset:0,prefix:""}:{offset:1,prefix:" "},a=t.indexOf(s+n[e]+" ",i);i=a<0?t.indexOf(" "+n[e],i):a,r.push(i+o)}return e.split(/\n/).filter((e=>e)).map(v).map((e=>((e,t,n)=>t.map(((r,i)=>({key:n&&n[i],value:e.substring(r,t[i+1]||e.length).trim()}))))(e,r,n)))}));function b(e){if(e){const[t,n]=e.split(/\//);return t&&n&&t===n?i.Z.Green:i.Z.Yellow}}function x(e,t){return l(this,void 0,void 0,(function*(){const n=yield(0,o.Oc)(e)?void 0:(0,a.wQ)(t)||(0,a.Dk)(t.parsedOptions)&&d("all")||t.execOptions.type===r.ExecType.TopLevel&&!r.Capabilities.inBrowser()&&(yield(0,s.Yi)(t));return n?[{label:n}]:void 0}))}function k(e){return"string"==typeof e?e[0]+e.slice(1).toLowerCase():e}const S=(e,t,n,o,s,u="NAME")=>l(void 0,void 0,void 0,(function*(){const{parsedOptions:l}=o,y="helm"===e&&"status"===t,v=y?"kubectl":e,g=("get"===t||"top"===t?"get":"helm"!==e||"list"!==t&&"ls"!==t?y?"get":"krew"===t?t:void 0:"get")||void 0,S="kubectl"!==v&&"oc"!==v||"get"!==g?"":"-o yaml",w=(0,a.wQ)(o),E=w?`-n ${(0,r.encodeComponent)(w)}`:"",O=s[0].findIndex((({key:e})=>"KIND"===e)),C=s[0].findIndex((({key:e})=>e===u)),$=s[0].findIndex((({key:e})=>"NAMESPACE"===e)),N=s.reduce(((e,t)=>Math.max(e,t.length)),0);let I;const R=s.map(((t,s)=>{const y=C>=0?t[C].value:"",x=y.split(/\//),k=x[1]||y,w=0===s||"CURRENT"!==t[0].key?"":"selected-entity",R="CURRENT"===t[0].key,P=R&&"*"===t[0].value,T=[P?"selected-row":""].filter((e=>e)),A=s>0&&P?"*":s>0&&R?"":x[1]||t[0].value;!R&&x[1]&&(I?I!==x[0]&&(I=void 0):I=x[0]);const L=$>=0&&"helm"!==e&&`-n ${(0,r.encodeComponent)(t[$].value)}`||E||"",D=0!==s&&(!!g&&`${v} ${g}${((e,t)=>{if("get"===g){const r=O>=0?t[O].value:e.length>1?e[0]:n;return r?" "+r:""}return"krew"===g?" "+n:""})(x,t)} ${(0,r.encodeComponent)(k)} ${S} ${L}`),_=o&&"string"==typeof D?(0,a.QG)(o,D):D,j=0===s?"header-cell":"",U=new RegExp(/STATUS|REASON|MESSAGE/i),M=y?(0,a.Dk)(l)?`${t[0].value}-${y}`:y:`${t[0].value}-${s}`;return{key:t[0].key,name:A,rowKey:M,fontawesome:P?"fas fa-check":void 0,onclick:0===C&&_,onclickIdempotent:!0,css:w+(t[0].key===u?" kui--table-cell-is-name":""),rowCSS:T,outerCSS:`${j} ${f[t[0].key]||""}`,attributes:t.slice(1).map((({key:e,value:t},n)=>{return{key:e,tag:s>0&&m[e],onclick:n+1===C&&_,outerCSS:(j+" "+(f[e]||"")+(n<=1||n===C-1||U.test(e)?"":" hide-with-sidecar")).trim(),css:(" "+(s>0&&h[e]||"")+" "+(c.Z[t]||"READY"===e&&b(t)||(r=t,/failed/i.test(r)?i.Z.Red:""))).trim(),value:"STATUS"===e&&s>0?t||d("Unknown"):t};var r})).concat(p(t.length,N))}})),P=yield x(n,o);return{header:Object.assign(R[0],{key:R[0].key||R[0].name,name:k(R[0].name),isSortable:"CURRENT"!==R[0].name,attributes:(R[0].attributes||[]).map((e=>Object.assign(e,{value:k(e.value)})))}),body:R.slice(1),noSort:!0,title:I||n||"",breadcrumbs:P}}));function w(e){return"string"==typeof e||(0,r.isTable)(e)||Array.isArray(e)&&e.length>0&&(0,r.isTable)(e[0])}function E(e,t){const n=t.split(/\n/).filter((e=>/NotFound/.test(e))).map((e=>e.match(/"([^"]+)" not found/)[1]));if(n.length>0){const t=0===e.body.length?-1:e.body[0].attributes.findIndex((e=>/STATUS/i.test(e.key))),r=0===e.body.length?[]:Array(e.body[0].attributes.length).fill(void 0).map(((e,n)=>{const r={};if(n===t){const e="Offline";r.value=e,r.tag=m.STATUS,r.outerCSS=f.STATUS,r.css=[h.STATUS,c.Z[e]].join(" ")}return r}));n.forEach((t=>{e.body.push({name:t,isDeleted:!0,attributes:r})}))}return e}function O(e){const{data:t}=e.execOptions;if(function(e){return"object"==typeof e&&e.constructor!==u}(t)&&!function(e){return"object"==typeof e&&e.constructor===u}(t)&&"number"==typeof t.limit)return t.limit}const C=(e,t,n,r,i,o,s)=>l(void 0,void 0,void 0,(function*(){const a=g(e.split(/^(?=LAST SEEN|NAMESPACE|NAME\s+)/m));if(a&&1===a.length&&0===a[0].length)return e||t;if(a&&a.length>=1){if(1===a.length){const e=O(n);e&&a[0].length>e&&(a[0]=[a[0][0]].concat(a[0].slice(-e)));const c=yield S(r,i,o,n,a[0],s);return n.execOptions.filter&&(c.body=n.execOptions.filter(c.body)),E(c,t)}return Promise.all(a.map((e=>l(void 0,void 0,void 0,(function*(){const s=yield S(r,i,o,n,e,void 0);return n.execOptions.filter&&(s.body=n.execOptions.filter(s.body)),E(s,t)})))))}return e}));function $(e){if((0,r.isTable)(e)){const t=e.header.attributes,n=t.findIndex((e=>"STATUS"===e.key)),r=t.findIndex((e=>"START"===e.key)),i=t.findIndex((e=>"START2"===e.key)),o=t.findIndex((e=>"START3"===e.key)),s=t.findIndex((e=>"END"===e.key)),a=t.findIndex((e=>"Duration"===e.key));if(a>=0)return e.statusColumnIdx=n,e.startColumnIdx=r,e.completeColumnIdx=s,e.durationColumnIdx=a,e;if(e.statusColumnIdx=n,r>=0&&s>=0){e.startColumnIdx=r,e.completeColumnIdx=s,e.durationColumnIdx=t.length,t.push({key:"Duration",value:"Duration"});const n=o<0;if(i>=0){n?e.coldStartColumnIdx=t.length:e.queueingDelayColumnIdx=t.length;const r=n?"Cold Start":"Queueing Delay";t.push({key:r,value:r,outerCSS:"hide-with-sidecar"}),t[i].outerCSS="hide"}if(o>=0){const n="Cold Start";e.coldStartColumnIdx=t.length,t.push({key:n,value:n,outerCSS:"hide-with-sidecar"}),t[o].outerCSS="hide"}e.body.forEach((e=>{const t=e.attributes[r],a=e.attributes[s],c=new Date(t.value).getTime(),u=new Date(a.value).getTime()-c;e.attributes.push({key:"Duration",value:isNaN(u)?"":u.toString()});let l=c;if(i>=0){const t=n?"Cold Start":"Queueing Delay";l=new Date(e.attributes[i].value).getTime();const r=l-c;e.attributes[i].outerCSS="hide",e.attributes.push({key:t,value:isNaN(r)?"":r.toString(),outerCSS:"hide-with-sidecar"})}if(o>=0){const t=new Date(e.attributes[o].value).getTime()-l;e.attributes[o].outerCSS="hide",e.attributes.push({key:"Cold Start",value:isNaN(t)?"":t.toString(),outerCSS:"hide-with-sidecar"})}}))}}return e}function N(e,t){const n="string"==typeof e?new RegExp(`^${e}$`,"i"):void 0,r="number"==typeof e?e:t.header.attributes.findIndex((e=>n.test(e.key)));if(r>=0){const e=t.header.attributes[r];e&&e.outerCSS&&(e.outerCSS=e.outerCSS.replace(/kui--hide-in-narrower-windows/,""),e.outerCSS=e.outerCSS.replace(/hide-with-sidecar/,"")),t.body.forEach((e=>{const t=e.attributes[r];t&&t.outerCSS&&(t.outerCSS=t.outerCSS.replace(/kui--hide-in-narrower-windows/,""),t.outerCSS=t.outerCSS.replace(/hide-with-sidecar/,""))}))}}function I(e,t){if(!t.header)return;const n="string"==typeof e?new RegExp(`^${e}$`,"i"):void 0,r="number"==typeof e?e:t.header.attributes.findIndex((e=>n.test(e.key)));if(r>=0){t.header.attributes[r].outerCSS+="kui--hide-in-narrower-windows",t.body.forEach((e=>{const t=e.attributes[r];t&&t.outerCSS&&(t.outerCSS+="kui--hide-in-narrower-windows")}))}}function R(e){if(e.header){if(!e.header.attributes.find((e=>/STATUS/i.test(e.key)||/READY/i.test(e.key)))){const t="Status";e.header.attributes.push({key:t,value:t}),e.body.forEach((e=>function(e,t=!e.attributes.find((e=>/STATUS/i.test(e.key)||/READY/i.test(e.key)))){if(t){const t="Status";e.attributes.push({key:t,value:"Ready",tag:"badge",css:i.Z.Green})}}(e,!0)))}}return e}function P(e,t){return`${e.name}_${t}_${e.namespace}`}function T(e,t,o,s,u=!1,l){const p=(0,a.QI)(o),v=(0,a.Dk)(o.parsedOptions),g=e.columnDefinitions.map((e=>l?l.includes(e.name):"wide"===p||0===e.priority)),x=e.columnDefinitions.filter((e=>l?l.includes(e.name):"wide"===p||0===e.priority)),k=l?x.slice().sort(((e,t)=>l.indexOf(e.name)-l.indexOf(t.name))):x,S=t,w={name:v?"Namespace":k[0].name,attributes:k.slice(v?0:1).map((e=>{const t=e.name.toUpperCase();return{key:t,value:e.name,outerCSS:f[t]}}))},E=e.rows.map((e=>{const t=e.cells.filter(((e,t)=>g[t])).map(((e,t)=>({cell:e,index:t}))).sort(((e,t)=>k.findIndex((t=>t.name===x[e.index].name))-k.findIndex((e=>e.name===x[t.index].name)))).map((e=>e.cell)),n=((e,t)=>{const n=!/namespace/i.test(S)&&e.object.metadata.namespace?`-n ${e.object.metadata.namespace}`:"";return(0,a.QG)(o,`${s} get ${S} ${(0,r.encodeComponent)(t)} -o yaml ${n}`)})(e,e.object.metadata.name);return{object:e.object,key:v?e.object.metadata.namespace:k[0].name.toUpperCase(),rowKey:P(e.object.metadata,S),name:v?e.object.metadata.namespace:t[0].toString(),onclickIdempotent:!0,onclick:!v&&n,attributes:t.slice(v?0:1).map(((e,t)=>{const r=k[v?t:t+1].name.toUpperCase(),o=e.toString();return{key:r,value:o,tag:m[r]||y[S]&&y[S][r],onclick:!(!v||t>0)&&n,outerCSS:f[r],css:[h[r],c.Z[o],/Ready/i.test(r)?b(o):"",/failed/i.test(o)?i.Z.Red:""].join(" ")}}))}})),O=(0,a.Dk)(o.parsedOptions)&&[{label:d("all")}]||(e.rows.length>0&&e.rows.every((({object:e})=>e.metadata.namespace))?[{label:e.rows[0].object.metadata.namespace}]:void 0),C=o.parsedOptions["sort-by"];if(C){const e=/Time/.test(C),t=n(51437),r=t.parse("$"+C.replace(/\.\w+-\w+/g,(e=>`["${e}"]`)));E.sort(((n,i)=>{const o=t.value(n.object,r),s=t.value(i.object,r);return(e?new Date(o):o)-(e?new Date(s):s)}))}const $={header:w,body:E,title:t,resourceVersion:e.metadata.resourceVersion,breadcrumbs:O};return u?R($):$}},89525:(e,t,n)=>{"use strict";n.d(t,{xJ:()=>s,PS:()=>a,vm:()=>c,rJ:()=>l,kL:()=>d,ZP:()=>p});var r=n(18495),i=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const o=(0,r.i18n)("plugin-kubectl"),s="last applied",a=o("lastApplied"),c=998;function u(e){const t=e.metadata.annotations;return void 0!==t?t["kubectl.kubernetes.io/last-applied-configuration"]:void 0}function l(e){return!e.isSimulacrum&&void 0!==u(e)}const d=(e,t)=>i(void 0,void 0,void 0,(function*(){const{dump:e}=yield n.e(8163).then(n.bind(n,78163));return{content:e(JSON.parse(u(t))),contentType:"yaml"}})),p={when:l,mode:{mode:s,label:a,order:c,content:d}}},88342:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l});var r=n(77316),i=n(50816),o=n(11227);const s=n.n(o)()("k8s/view/util/selectors"),a=e=>{if(e.matchLabels)return a(e.matchLabels);if(e.matchExpressions)return"";const t=Object.keys(e).map((t=>`-l ${t}=${e[t]}`)).join(" ");return s("selectorToString",t,e),t};var c=n(25218),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const l={when:function(e){return(0,c.Ib)(e)&&((0,c.Yc)(e)||(0,c.MN)(e)||void 0!==e.status&&void 0!==e.status.podName)},mode:{mode:"pods",label:"Pods",content:function(e,t,n){return u(this,void 0,void 0,(function*(){const o=e.REPL.qexec(function(e,t){const{selector:n}=e.spec;return n?`${t?(0,i.fY)(t):r.default} get pods ${a(n)} -n "${e.metadata.namespace}"`:`${t?(0,i.fY)(t):r.default} get pods ${e.status.podName} -n "${e.metadata.namespace}"`}(t,n));return o}))}}}},62892:(e,t,n)=>{"use strict";n.d(t,{xJ:()=>i,PS:()=>o,vm:()=>s,ZP:()=>a});var r=n(25218);const i="raw",o="YAML",s=999,a={when:r.BJ,mode:{mode:i,label:o,content:(e,t)=>({content:t.kuiRawData,contentType:"yaml"}),order:s}}},23918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(11227),i=n.n(r),o=n(18495),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=i()("plugins/plugin-kubectl/tab-state"),c="plugins/plugin-kubectl",u="v1";function l(e,t){try{return e.getState(c,u,t)}catch(e){return}}function d(e,t,n){e.setState(c,u,t,n)}function p(e){return s(this,void 0,void 0,(function*(){const t=(0,o.getTab)(parseInt(e.uuid));if(t)try{const{getCurrentDefaultContextName:r,getCurrentDefaultNamespace:i}=yield Promise.resolve().then(n.bind(n,347)),[o,s]=yield Promise.all([r(t),i(t)]),c=l(e,"context"),u=l(e,"namespace");c&&o===c||d(e,"context",o),u&&s===u||d(e,"namespace",s),a("captured tab state",t.uuid,o,s)}catch(t){/command not found/.test(t)||console.error("plugin-kubectl: failed to capture tab-state",t,e),d(e,"context",""),d(e,"namespace","")}}))}function f(e){return s(this,void 0,void 0,(function*(){const t=(0,o.getTab)(parseInt(e.uuid)),r=l(e,"namespace"),i=l(e,"context");try{const{getCurrentDefaultContextName:e,getCurrentDefaultNamespace:s}=yield Promise.resolve().then(n.bind(n,347)),[c,u]=yield Promise.all([e(t),s(t)]);if(c!==i||u!==r){const e=(yield Promise.resolve().then(n.bind(n,77316))).default;yield t.REPL.qexec(`${e} config set-context ${(0,o.encodeComponent)(i)} --namespace=${r}`),yield t.REPL.qexec(`${e} config use-context ${(0,o.encodeComponent)(i)}`)}a("restored tab state",t.uuid,i,r)}catch(t){/command not found/.test(t)||console.error("plugin-kubectl: failed to restore tab-state",t,e)}}))}const h=(e,t)=>s(void 0,void 0,void 0,(function*(){if((0,o.isTopLevelTab)(e))try{yield p(e),yield f(t)}catch(n){console.error("plugin-kubectl: failed to switch tab",n,e,t)}}));function m(){return(0,o.registerTabState)({name:c,apiVersion:u,capture:p,restore:f,switchTo:h})}},78805:e=>{"use strict";e.exports=function e(t){function n(e){return void 0===(e=void 0!==e?e:{}).mode&&(e.mode=t),e}function r(e,t){return function(e,t){if("string"==typeof e)return d(e,t);if("number"==typeof e)return l(e,t);return null}(e,n(t))}return t=u(t),r.format=function(e,t){return l(e,n(t))},r.parse=function(e,t){return d(e,n(t))},r.withDefaultMode=e,r}("metric");var t=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,r={b:{val:1,longName:"byte",name:"B"},kb:{val:Math.pow(1e3,1),longName:"kilobyte",name:"kB"},mb:{val:Math.pow(1e3,2),longName:"megabyte",name:"MB"},gb:{val:Math.pow(1e3,3),longName:"gigabyte",name:"GB"},tb:{val:Math.pow(1e3,4),longName:"terabyte",name:"TB"},pb:{val:Math.pow(1e3,5),longName:"petabyte",name:"PB"},eb:{val:Math.pow(1e3,6),longName:"exabyte",name:"EB"},zb:{val:Math.pow(1e3,7),longName:"zettabyte",name:"ZB"},yb:{val:Math.pow(1e3,8),longName:"yottabyte",name:"YB"},kib:{val:Math.pow(1024,1),longName:"kibibyte",name:"KiB"},mib:{val:Math.pow(1024,2),longName:"mebibyte",name:"MiB"},gib:{val:Math.pow(1024,3),longName:"gibibyte",name:"GiB"},tib:{val:Math.pow(1024,4),longName:"tebibyte",name:"TiB"},pib:{val:Math.pow(1024,5),longName:"pebibyte",name:"PiB"},eib:{val:Math.pow(1024,6),longName:"exbibyte",name:"EiB"},zib:{val:Math.pow(1024,7),longName:"zebibyte",name:"ZiB"},yib:{val:Math.pow(1024,8),longName:"yobibyte",name:"YiB"},_kb:{val:Math.pow(1024,1),longName:"kilobyte",name:"kB"},_mb:{val:Math.pow(1024,2),longName:"megabyte",name:"MB"},_gb:{val:Math.pow(1024,3),longName:"gigabyte",name:"GB"},_tb:{val:Math.pow(1024,4),longName:"terabyte",name:"TB"}};function i(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(r[i])}return t.sort((function(e,t){return t.val-e.val})),t}var o=i(["b","kb","mb","gb","tb","pb","eb","zb","yb"]),s=i(["b","kib","mib","gib","tib","pib","eib","zib","yib"]),a=i(["b","_kb","_mb","_gb","_tb"]),c=/^((-|\+)?(\d+(?:\.\d+)?)) *((k|m|g|t|p|e|z|y)?i?(b))?$/i;function u(e){if("compatibility"==e&&(e="jedec"),"decimal"==e&&(e="metric"),!/^(binary|metric|jedec)/.test(e))throw Error("bytes.js: invalid mode passed in: "+e);return e}function l(e,i){if(!Number.isFinite(e))return null;var c,l=Math.abs(e),d=i&&i.thousandsSeparator||"",p=i&&i.unitSeparator||"",f=i&&void 0!==i.decimalPlaces?i.decimalPlaces:2,h=Boolean(i&&i.fixedDecimals),m=i&&i.unit,y=i&&i.mode,v=function(e){if("metric"==e)return o;if("jedec"==e)return a;if("binary"==e)return s}(y=u(i.mode));c=void 0!==m?function(e,t,n){var i;t=t.toLowerCase(),("compatibility"==n||"jedec"==n)&&(i=r["_"+t]);void 0===i&&(i=r[t]);if(void 0===i)throw Error("byte.js: unit not found: "+t);return i}(0,m,y):function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t>=r.val||n>=e.length-1)return r}}(v,l);var g=(e/c.val).toFixed(f),b=c.name;return h||(g=g.replace(n,"$1")),d&&(g=g.replace(t,d)),g+p+b}function d(e,t){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var n=t&&t.mode||"metric";n=u(n);var i,o,s,a=c.exec(e);return a?(i=parseFloat(a[1]),void 0===(o=a[4])&&(o="b"),o=o.toLowerCase(),"jedec"==n&&(s=r["_"+o]),void 0===s&&(s=r[o]),Math.floor(s.val*i)):null}},23450:function(e){e.exports=function(){var e=[],t=[],n={},r={},i={};function o(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function a(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function c(e,t){return e.replace(t[0],(function(n,r){var i=a(t[1],arguments);return s(""===n?e[r-1]:n,i)}))}function u(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var i=r.length;i--;){var o=r[i];if(o[0].test(t))return c(t,o)}return t}function l(e,t,n){return function(r){var i=r.toLowerCase();return t.hasOwnProperty(i)?s(r,i):e.hasOwnProperty(i)?s(r,e[i]):u(i,r,n)}}function d(e,t,n,r){return function(r){var i=r.toLowerCase();return!!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&u(i,i,n)===i}}function p(e,t,n){return(n?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=l(i,r,e),p.isPlural=d(i,r,e),p.singular=l(r,i,t),p.isSingular=d(r,i,t),p.addPluralRule=function(t,n){e.push([o(t),n])},p.addSingularRule=function(e,n){t.push([o(e),n])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),i[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}()}}]);